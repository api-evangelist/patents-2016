---

title: Coordinating analytics between media player and server
abstract: A method includes receiving a client report including an identifier and client analytics data, the client report received from a client device and the client analytics data associated with a media stream received by the client device from a streaming server. The method further includes receiving a server report including the identifier and server analytics data, the server report received from the streaming server. The method further includes, based on determining that the client report and the server report include the identifier, determining that the client analytics data and the server analytics data are correlated.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09654360&OS=09654360&RS=09654360
owner: WOWZA MEDIA SYSTEMS, LLC
number: 09654360
owner_city: Golden
owner_country: US
publication_date: 20160229
---
The popularity of the Internet coupled with the increasing capabilities of personal mobile electronic devices has provided consumers with the ability to enjoy multimedia content almost anytime and anywhere. For example live content e.g. sports events and video on demand VOD content e.g. television shows and movies can be streamed via the Internet to personal electronic devices e.g. computers mobile phones and Internet enabled televisions .

In some streaming scenarios an application developer or vendor may receive performance statistics from a client that is streaming media from a server. In addition or in the alternative the developer or vendor may receive performance statistics from the server. However in some situations the developer or vendor may not know how the client statistics relate to the server statistics and may therefore be unable to gain insight into how server performance impacts client performance and vice versa.

Moreover as the number of media stream providers increases the variety of performance statistics requested by the media stream providers may also increase. To illustrate a television movie streaming service may request collection and analysis of different statistics than those collected and analyzed by a live 24 hour news channel. Accordingly it may be challenging for vendors of media streaming hardware software to provide a one size fits all analytics framework for all customers.

The present application discloses various systems and methods of coordinating data analytics to improve performance of streaming servers client devices and analytics servers. In accordance with the present disclosure a server identifier ID may be assigned to a streaming server and the streaming server may include the server ID in data that is provided to a streaming client. For example the streaming server may include the server ID in a master rendition list e.g. a manifest a playlist etc. a rendition chunk list or media chunks e.g. segments or fragments distributed to a streaming client. During or after receiving a stream from the streaming server the streaming client may send a client report to an analytics server which in some examples may be distinct from the streaming server . In some embodiments the streaming client may send multiple client reports to the analytics server. For example the streaming client may send client reports at periodic intervals. The client report may identify one or more events that occurred at the streaming client. For example the client report may identify events such as switching between adaptive bitrate renditions rewinding fast forwarding pausing a video an error at the streaming client etc. The client report includes the server ID and may include client timestamp s corresponding to the event s identified in the client report.

The streaming server may also send a report e.g. a server report to the analytics server. The server report may include statistics associated with operations at the streaming server. For example the server report may include hardware performance statistics the number of clients connected to the streaming server details regarding streams being provided to each of the connected clients etc. The server report further includes the server ID and may include server timestamp s indicating when the statistics identified in the server report were measured. Because both the client report and the server report include a common identifier e.g. the server ID the analytics server may correlate events at the streaming client with substantially contemporaneous performance characteristics and operating conditions at the streaming server and vice versa. Correlating client analytics with server analytics may enable determination of how actions events or statistics measured at the client may affect the server or vice versa. Accordingly correlating client analytics with server analytics may enable various advanced functions to improve an end user media streaming experience such as by adjusting streaming parameters at the streaming client and or at the streaming server. For example the techniques of the present disclosure may enable an analytics server to proactively or reactively adjust parameters at a client device so that a user experience of viewing a media stream at the client device is improved e.g. by reducing stream lag or interruptions . As another example the techniques of the present disclosure may enable an analytics server to proactively or reactively adjust parameters at a streaming server that is serving one or more streams to one or more client devices e.g. by improving resource utilization at the streaming server .

The present application also discloses systems and methods that support categorizing analytics data received from the streaming client. For example analytics data may be hierarchically or non hierarchically categorized. Categorizing and tagging analytics data may enable grouping of analytics data into meaningful e.g. to a customer of a streaming service groupings e.g. buckets which may improve operation of the analytics server such as by enabling faster analysis of analytics data and faster access to analytics data associated with a particular group. In addition the present application discloses systems and methods that enable definition of customized analytics events statistics data. Such customization may provide the ability to tailor analytics sets for individual use cases.

The client device the streaming server and the analytics server may each include a processor a memory and a network interface . Each of the network interfaces enables communication via a network such as a local area network LAN a wide area network WAN an Internet area network IAN or a combination thereof. One or more of the processors may include one or more single or multi core processors. One or more of the memories may include a random access memory device a hard disk drive a solid state drive another type of memory device or a combination thereof. In particular embodiments one or more of the memories include more than one device. The network interfaces may each include one or more wired and or wireless interfaces such as interfaces configured to communicate in accordance with an Institute of Electrical and Electronics Engineers standard IEEE e.g. such as an IEEE 802.11 standard or an IEEE 802.3 standard a third generation 3G standard a fourth generation 4G standard etc.

Examples of client devices include but are not limited to mobile phones tablet computers desktop computers laptop computers portable media players wearable electronic devices game consoles televisions set top boxes etc. The client device may include a media player application . In a particular embodiment the media player application corresponds to software instructions stored in the memory and executable by the processor to perform media player functionality hardware circuits of the client device or a combination thereof. In some examples the media player application may be a standalone application that is downloaded or installed to the client device . In other examples the media player application is included in or invoked by another application executed at the client device . To illustrate the media player application may be invoked by a browser application when a user of the client device navigates the browser application to a web page associated with a media stream when the user selects a link to a media stream etc. A media stream may include data corresponding to media content e.g. video content audio content text content image content or a combination thereof .

The media player application may include a playback module configured to request and receive media streaming content from a streaming server e.g. the streaming server and to render the media streaming content on a display of the client device . The media player application may also include a player analytics module configured to determine collect and transmit analytics data associated with the client device as further described herein.

In some examples the client device may include a location sensor . The location sensor may be configured to determine a location of the client device . In particular embodiments the location sensor may correspond to or include a global positioning system GPS receiver. When the client device includes the location sensor the player analytics module may be configured to communicate with the location sensor to receive location information e.g. for inclusion in analytics data transmitted from the client device . In some examples the client device may not include the location sensor and the player analytics module may determine the location information based on an Internet protocol IP address associated with the network interface .

In some examples the streaming server is a server computing device configured to perform streaming functionality. Alternatively the streaming server may be present in a cloud based system and operations described with reference to the streaming server may be performed by multiple computing devices in a cloud computing environment. The streaming server may include a transcoder and or transmuxer such as a hardware transcoder transmuxer or a software transcoder transmuxer. The transcoder transmuxer may perform video processing functions to prepare a video stream for transmission to a client device such as the client device . For example a transcoder may be configured to generate new video data based on input video data while a transmuxer may be configured to repackage input video data. It is therefore to be understood that the transcoder transmuxer of is for illustrative purposes only and is not to be considered limiting. The techniques of the present disclosure can be applied in systems including streaming servers equipped with only transmuxers only transcoders or a combination of transcoders and transmuxers. In a particular embodiment the streaming server is configured to serve a video stream corresponding to a stored video on demand VOD item or to a live stream being received by the streaming server from a stream capture source such as a video camera. The streaming server may also include a server analytics module configured to determine collect and transmit analytics data associated with the streaming server as further described herein.

The analytics server may include a client analysis module a server analysis module and a client server correlated analysis module . The modules may correspond to or include hardware circuits of the analytics server software stored in a computer readable device e.g. the memory and executable by the processor or a combination thereof. In some examples components or functions of the analytics server may be distributed among more than one device. For example a first set of devices may include components and perform functions associated with receiving analytics data and a second set of devices may include components and perform functions associated with analyzing analytics data. The client analysis module may be configured to perform analysis operations based on analytics data received from one or more client devices such as the client device . The server analysis module may be configured to perform analysis operations based on analytics data received from one or more streaming servers such as the streaming server . The correlated analysis module may perform analysis operations based on analytics data received from one or more client devices and one or more streaming servers as further described herein.

In operation a user of the client device may initiate execution of the media player application . To illustrate the user of the client device may navigate a browser application to a web page where the media player application is embedded in the web page or the web page includes code that causes the media player application to be loaded. Alternatively the user of the client device may select a link to a video stream on a web page where the selection of the link initiates execution of the media player application . As yet another example the user may initiate execution of the media player application as a standalone application that is installed on the client device .

In some examples a three phase process may be used during delivery of content although it is to be understood that alternative embodiments may involve more steps fewer steps a different order of steps or any combination thereof. In accordance with an illustrative non limiting example a three phase process may involve a device receiving a master rendition list then receiving a rendition chunk list corresponding to a rendition identified by the master rendition list and then receiving one or more media chunks identified by the rendition chunk list. To illustrate the media player application may cause the client device to transmit a master rendition list request to the streaming server via the network interface . The streaming server may receive the master rendition list request via the network interface . In a particular example the master rendition list request may identify a video on demand VOD item stored in the memory . In response to the master rendition list request the processor may identify or generate a master rendition list e.g. a manifest associated with the VOD item . In response to the master rendition list request the processor may cause the network interface to transmit the master rendition list and a server ID sID in associated with the streaming server to the client device . The server ID may be a combination of characters e.g. numbers letters symbols or a combination thereof that identifies the streaming server . The server ID may be a globally unique identifier. Alternatively the server ID may be unique within a set of server IDs known to the analytics server or to a set of analytics servers . In particular examples the server ID may be assigned by a network entity e.g. the analytics server or may be automatically determined based on another identifier of the streaming server such as a media access control MAC address of the network interface .

The client device may use the master rendition list to request one or more rendition chunk lists and may use the one or more rendition chunk lists to request one or more media chunks of the VOD item e.g. based on URLs or URL templates included in the rendition chunk list s . For example the client device may transmit one or more media chunk requests to the streaming server via the network interface . In some examples the client device may periodically transmit requests for rendition chunk lists when requesting rendition chunk lists corresponding to a live stream e.g. because new media chunks may be added to a rendition chunk list as more of the live stream is received by the streaming server . Similarly the client device may transmit a single request for a rendition chunk list when the rendition chunk list corresponds to a video on demand item. The streaming server may receive the media chunk requests via the network interface . In response to the media chunk requests the processor may cause the network interface to transmit one or more media chunks of the VOD item to the client device . When the streaming server supports adaptive bitrate ABR streaming the media chunks may correspond to portions of one or more ABR renditions of the VOD item that are generated by the transcoder transmuxer or received from another source. For VOD multiple renditions may be stored in a single VOD file or in multiple VOD files e.g. where each VOD file includes a single rendition . In some examples a VOD file may be transcoded into one or more different renditions. For live streams the streaming server may receive one or more renditions and may use the transcoder transmuxer to generate additional renditions. Alternatively for live streams the streaming server may receive all renditions that are to be made available for streaming and may thus not use the transcoder transmuxer to generate additional renditions. Adaptive streaming and transcoding operations are further described with reference to . In some examples the streaming server includes the server ID when transmitting the media chunks to the client device . In some examples the client device may send the media chunk requests to a first streaming server and the first streaming server may either provide the requested media chunks to the client device or may forward the media chunk requests to another streaming server e.g. of a server farm for servicing. In such examples the first streaming server may thus perform load balancing for media chunk requests.

While the above example describes the client device requesting a stream corresponding to VOD content in alternative examples the client device may request and receive a live stream or ABR renditions thereof . For example the streaming server may receive and in some examples may transcode transmux the live stream . In some examples the live stream may correspond to a plurality of streams. As in the VOD example the streaming server may transmit the server ID with a master rendition list or other information associated with the live stream . Alternatively or in addition the streaming server may transmit the server ID with media chunks of the live stream or ABR renditions thereof . Thus the media chunks may correspond to the live stream or the VOD item .

While receiving the media chunks media player application may utilize the playback module to render and present a representation of the VOD item or the live stream which in some examples corresponds to multiple streams . Further the media player application may utilize the player analytics module to identify events associated with receiving the media chunks receiving the master rendition list receiving rendition chunk lists user interactions associated with the media player application user interactions associated with other applications e.g. a web browser or a social media application presenting the representation events associated with a status of a the client device e.g. a battery level a physical orientation of the client device display settings of the client device volume settings of the client device movement of the client device etc. or a combination thereof. Thus events identified at the client device may include events related to the media player application as well as events unrelated to the media player application or user interaction therewith. An illustrative non limiting example of a user interaction associated with the media player application is accessing alternate content included with the media chunks such as closed caption or subtitle data data events alternate camera angles alternate audio tracks commentary tracks etc. The player analytics module may further identify statistics such as a location of the client device determined by location sensor hardware statistics e.g. a temperature of the processor usage of system memory of the client device etc. network statistics e.g. jitter dropped packets round trip latency bandwidth usage etc. content statistics e.g. a number of plays of a media content item or a combination thereof.

In a particular embodiment the player analytics module may store the identified events and or statistics as player report data in the memory . The player report data may correspond to an in memory e.g. in random access memory RAM data structure may correspond to a log file or may correspond to another type of data structure or file. In some examples the player report data may be sent to an external storage device. The player report data which may correspond to one or more events may correspond to one or more statistics or may correspond to a combination thereof may indicate that the identified event s and or statistic s are associated with the streaming server having the server ID . Further the player analytics module may tag each event and or statistic with a timestamp indicating when the event and or statistic was measured or determined.

The player analytics module may further generate a client report and cause the network interface to transmit the client report to the analytics server . The client report may include client analytics data identifying one or more events and or statistics logged by the player analytics module as described above. The client report may include the server ID and one or more timestamps . For example each event and or statistic described by the client analytics data may have an associated timestamp as described above. In particular embodiments the client report may additionally include a client ID that e.g. uniquely identifies the client device the media player application or a combination thereof. Client reports such as the client report may be transmitted by the client device periodically e.g. based on a clock in response to user input in response to a particular event e.g. a trigger event such as playback of a stream starting playback of a stream ending etc. at the client device or in response to a request from another device e.g. the analytics server or the streaming server .

During operation at the streaming server the server analytics module may generate server report data to be stored in the memory . The server report data may correspond to an in memory e.g. in RAM data structure may correspond to a log file or may correspond to another type of data structure or file. The server report data may identify one or more statistics associated with operations of the streaming server . For example the server report data may identify a number of outbound streams being served by the streaming server a number of clients connected to the streaming server output stream bitrates e.g. bitrates of ABR renditions being served types of streams being served e.g. live vs. VOD vs. digital video recorder DVR a work load of the streaming server e.g. how many processes such as transcoders are executing on the streaming server media content statistics e.g. which media content items are being streamed hardware statistics e.g. memory usage processor temperature throughput usage etc. and other statistics. Each statistic in the server report data may be associated with a timestamp identifying when the server analytics module determined or measured the statistic.

Further the server analytics module may generate a server report . The server report may include the server ID and server analytics data identifying one or more statistics associated with operation of the streaming server where each statistics is associated with a timestamp as described above with reference to the server report data. The server analytics module may cause the network interface to transmit the server report to the analytics server . The server report may be transmitted to the analytics server periodically e.g. based on a clock in response to a request from the analytics server or in response to one or more particular events occurring at the streaming server . In a batch collection example server analytics data may be parsed and the server report may be transmitted to the analytics server once per day. In some examples server analytics data may be sent to the analytics server more frequently or less frequently.

Although the foregoing example describes the client device and the streaming server maintaining report data and transmitting reports that include multiple events statistics it is to be understood that this is not to be considered limiting. The client device and or the streaming server may additionally or alternatively transmit data regarding individual events statistics in real time or near real time rather than buffering report data for subsequent transmission. In some examples analytics data is buffered and transmission is retried in the event of a transmission error a lost network connection etc.

The analytics server may receive the client report and the server report via the network interface . The analytics server may store the client report and the server report in a storage device e.g. the memory which may correspond to RAM disk storage flash storage and or another type of storage device. The modules may perform analytics operations based on the client report the server report and or additional client reports and server reports received from other client devices and streaming servers.

In particular embodiments the correlated analysis module may determine that the client report or the client analytics data or a portion thereof is correlated to the server report or the server analytics data or a portion thereof based on the reports including a common identifier e.g. the server ID . The correlated analysis module may also determine temporal correlation between the client analytics data and the server analytics data based on the timestamps . The timestamp may correspond to the timestamp when the timestamps are equal or within a threshold range of each other e.g. clocks at the client device and the streaming server need not be synchronized or need not generate analytics data at precisely the same time . In some examples the client device and the streaming server generate the timestamps based on a common clock e.g. a universal network accessible clock or based on a clock synchronization procedure that is performed during setup of a streaming session.

The modules may determine various types of streaming analytics information. For example the information may indicate how user engagement e.g. how long users watch a stream how often users post on social media regarding a stream etc. correlates to streaming server load e.g. number of concurrent client device connections processor utilization memory utilization network bandwidth throughput etc. . As another example the information may indicate how user engagement correlates to stream quality e.g. how many and which ABR renditions are being generated transmitted encoders decoders in use transcoder settings etc. . As another example the information may indicate how user engagement correlates to errors at streaming server s and or client device s . As another example the information may indicate how ABR behavior e.g. when how often how many times client devices change ABR renditions correlate to streaming server load stream quality or errors.

In some examples the analytics server may generate and transmit analysis results commands to the client device to the streaming server or to both. For example when user engagement drops the analytics server may send the client device the streaming server or both commands requesting additional performance statistics or metrics commands triggering execution of particular applications or functions e.g. health monitoring software at a streaming server etc. As another example based on the streaming server indicating a change in number of client connections or computing resources the analytics server may proactively instruct the client device to request a different ABR rendition. As another example based on the client device indicating the occurrence of a particular kind of error the analytics server may instruct the client device to perform one or more error correction actions or may instruct the streaming server to send test data to the client device . The client device may process the test data and determine why the error occurred e.g. encoder decoder incompatibility network packet drops etc. . As another example the analytics server may instruct the streaming server to add or remove certain connected client devices start or stop accepting new client device connections add or remove certain ABR renditions e.g. make an audio only ABR rendition available due to drops in client device bandwidth or video encoder decoder incompatibility indicated in client reports received from client devices etc. As yet another example the analytics server may instruct the client device to switch to a different content delivery network CDN a different edge server a different streaming server etc. based on received client reports indicating a high round trip latency a large number of dropped packets or a small available network bandwidth. As yet another example the analytics server may instruct the streaming server or the client device to advertise premium features e.g. surround sound ultra high definition video digital video recording DVR capability etc. or offer the premium features at a discount in response to determining that client reports indicate that few or no client devices are using the premium features. The analytics server may instruct a single client device a single streaming server multiple client devices or multiple streaming servers depending on conditions present in the system . In addition or in the alternative to issuing instructions based on client reports and the server reports the analytics server may output data e.g. via a graphical user interface corresponding to the client reports and the server reports. In an illustrative non limiting example such output data may be requested and output via a web interface provided by the analytics server . For example a user or owner of a device e.g. the streaming server and or the client device a streaming content provider a cloud service provider a CDN etc. may generate reports regarding performance of various devices involved in providing media streams to users. Output data of the analytics server is described in more detail below with reference to .

It is to be understood that the examples described herein are for illustrative purposes only and are not to be considered limiting. The systems and methods of the present disclose may enable proactively or reactively instructing a client device and or a streaming server to perform any operation that may mitigate or reduce the likelihood of an error improve streaming performance increase revenue generated by a streaming service provider decrease a cost incurred by a streaming service provider or a user etc. The systems and methods of the present disclosure may also enable reporting of client data server data and correlated client server data.

The system may thus support collection storage transmission and reporting of analytics data by streaming servers e.g. the streaming server and client devices e.g. the client device . The analytics data may be processed by the analytics server in correlated fashion based on the presence of a common identifier such as the server ID . The ability to correlate client analytics data to server analytics data may provide a more holistic understanding of operations at the system and may enable the analytics server to improve overall streaming performance at the system for example by instructing the client device or the streaming server to perform certain operations. Accordingly the system may support adjustment of streaming operations based on data that may have been previously unavailable or uncorrelated. Moreover the system may support reporting such data to various interested parties.

Referring to a diagram depicting an example of a server log file that may be generated at the streaming server of is illustrated. For example the server log file may be generated by the server analytics module of . The server log file may include entries corresponding to data that is included in the server report of . For example the server log file may include a server ID which may correspond to the server ID of . Although illustrates a log file it is to be understood that in alternative embodiments data of the log file may also or in the alternative be stored in an in memory data structure of a streaming server.

The server log file may include a plurality of entries corresponding to the server analytics data of . An illustrative entry includes a timestamp indicating when the server analytics module identified determined or measured the statistics event listed in entry . Entries in the server log file such as the entry may identify various statistics and or events associated with the streaming server such as how many clients devices are connected to the streaming server when a new client device connection is received the current status of hardware e.g. temperature usage etc. when various streaming requests are received when errors occur etc.

Referring to a diagram depicting an example of a client log file that may be generated at the client device of is illustrated. For example the client log file may be generated by the player analytics module of . The client log file may include entries corresponding to data that is included in the client report of . For example the client log file may include a server ID which may correspond to the server ID of . Although illustrates a log file it is to be understood that in alternative embodiments data of the log file may also or in the alternative be stored in an in memory data structure of a client device.

The client log file may include a plurality of entries corresponding to the client analytics data of . An illustrative entry includes a timestamp indicating when the player analytics module identified determined or measured the statistics event listed in entry . Entries in the client log file such as the entry may identify various statistics and or events associated with the media player application or the client device such as when a master rendition list is requested and received when rendition chunk list s are requested and received when media chunk s are requested and received the current status of hardware e.g. temperature usage etc. when a switch to a different ABR rendition occurs when errors occur user engagement information user interactions e.g. pausing rewinding or fast forwarding a stream a location of the client device etc. In addition entries of the client log file may include statistics and or events associated with another application at the client device or with a web page viewed at the client device . For example the client log file may include entries describing user interaction with a social media application or web page.

Referring to a diagram of a system for generating distributing and processing media player analytics data is shown. The system includes a first client and a second client . One or both of the clients may include components corresponding to components of the client device of . The system further includes a streaming server . In particular examples the streaming server may correspond to a plurality of streaming servers. The streaming server may include components corresponding to the components of the streaming server of . The system may further include a computing device . The computing device may include a processor memory and one or more network interfaces not shown . The system may further include a first analytics server a second analytics server a third analytics server and a fourth analytics server . One or more of the analytics servers may include components analogous to components of the analytics server of . Although four analytics servers are shown in it is to be understood that more or fewer analytics servers may be present in alternative embodiments.

In operation each of the clients may stream media from the streaming server . For example the first client may establish a first streaming session with the streaming server and receive a video stream during the first streaming session. The first streaming session may be associated with a session ID and the video stream may include the session ID e.g. the session ID may be included in a master rendition list in individual rendition chunk lists in individual media chunk s in a stream URL etc. . As used herein a session ID may e.g. uniquely identify a streaming session such as a hypertext transfer protocol HTTP based ABR streaming session between a client device and a streaming server during which the client device may receive a video stream from the streaming server. When the same client device conducts multiple concurrent or non concurrent streaming sessions with the same streaming server each of the streaming sessions may have a different session ID.

Similarly the second client may establish a second streaming session with the streaming server and receive a video stream during the second streaming session. The second streaming session may precede be at least partially concurrent with or may follow the first streaming session. The second streaming session may be associated with a session ID and the video stream may include the session ID e.g. the session ID may be included in a master rendition list in individual rendition chunk lists in individual media chunk s in a stream URL etc. . The video streams may correspond to the same video content or to different video content. In some embodiments the streaming server may send video streams to a CDN e.g. to one or more geographically distributed edge servers of the CDN for further downstream distribution to clients. In such embodiments the first client and the second client may each receive a video stream with the same session ID e.g. because there may be a single request from the CDN to the streaming server but the clients may have different client IDs. Accordingly the session ID may be the same or may be different from the session ID and client IDs may be used to distinguish clients in situations where the session IDs are the same.

While receiving the video stream the first client may generate first analytics data . For example the first client may generate the first analytics data . The first analytics data may correspond to the client analytics data or to the client report of . Accordingly the first analytics data may include one or more timestamp s and server ID s . In other examples the first analytics data may not include timestamp s and or server ID s . Alternatively or in addition the first analytics data may include metadata and or the session ID . In particular examples the metadata categorizes the first analytics data according to a hierarchy as described further with reference to . The metadata may alternatively correspond to a list of e.g. non hierarchical labels or tags associated with the first analytics data .

The first client may send the first analytics data to the computing device as shown. The computing device may receive the first analytics data and route the first analytics data to one of the analytics servers based on the metadata the session identifier or a combination thereof. For example the metadata may identify the first analytics data as belonging to a first particular hierarchical category. The computing device may identify the second analytics server as corresponding to the first particular hierarchical category and route the first analytics data to the second analytics server . In other examples the first client may send the first analytics data to one of the analytics servers .

Similarly while receiving the video stream the second client may generate second analytics data . The second analytics data may include one or more timestamp s and server ID s . In other examples the second analytics data may not include timestamp s and or server ID s . Alternatively or in addition the second analytics data may include metadata and or the session ID . In particular examples the metadata categorizes the second analytics data according to a category hierarchy as described further with reference to . The metadata may alternatively correspond to a list of e.g. non hierarchical labels or tags associated with the second analytics data .

The second client may send the second analytics data to the computing device as shown. The computing device may receive the second analytics data and route the second analytics data to one of the analytics servers based on the metadata the session ID the load of one or more of the analytics servers the geo location of one or more of the analytics servers or a combination thereof. For example the metadata may identify the second analytics data as belonging to a second particular hierarchical category. The computing device may identify the third analytics server as corresponding to the second particular hierarchical category and route the second analytics data to the third analytics server accordingly.

Depending on the particular implementation different analytics servers may be assigned to different streaming servers different groups of clients different types of media streams etc. The computing device may thus utilize information included in client analytics data to route data to an appropriate analytics server which may enable load balancing at the system . In some examples the computing device may receive commands e.g. the analysis results commands or the analysis results commands from the analytics servers and forward the commands to the appropriate client or streaming server. Alternatively the analytics servers may transmit the commands to the clients or streaming servers without transmitting to the computing device .

Thus illustrates how analytics data may be sent to different analytics servers based on the type of statistics events described by the analytics data e.g. as indicated by metadata based on a session ID or a combination thereof. Accordingly the work load of any particular analytics server may be reduced.

Referring to a diagram illustrating hierarchical classification of analytics data is shown. The diagram illustrates a first tree structure and a second tree structure each including a hierarchical classification of analytics data. The metadata may indicate node s of the tree structures and may thus indicate a hierarchical classification of analytics data.

Categorizing analytics data may enable a streaming service provider to group data into meaningful sets for analysis. For example analytics data may be categorized by customer individual application or stream market segment A B testing of an application or website feature VOD vs. live streaming paying vs. non paying client devices cloud vs. on premises stream delivery CDN used for stream delivery trial vs. paid user or media player application etc.

In the illustrated example the first tree structure includes a customer node . Analytics data associated with customer may correspond to the node or to a child node of the node . Customer may be a content provider e.g. a television network movie studio etc. that utilizes a streaming service to provide content to users. Such a streaming service may provide streaming servers e.g. the streaming server or the streaming server to distribute content such as the VOD item or the live stream . The customer node has two child nodes a live node and a VOD node . Thus analytics data associated with live streams of customer may correspond to the node or a child node thereof and analytics data associated with VOD streams of customer may correspond to the node or a child node thereof . The VOD node has two child nodes an A node and a B node corresponding to A B website testing. Thus analytics data generated by client devices visiting the A version of the website may correspond to the node or a child node thereof and analytics data generated by client devices visiting the B version of the website may correspond to the node . Categorizing data as shown in the first tree structure may enable comparing sets of analytics data e.g. VOD performance vs. live performance A website performance vs. B website performance etc. . To illustrate the tree structures may enable answering performance queries such as show me all VOD plays for customer show me user engagement data for the VOD item BigBuckBunny show me a comparison of performance statistics between the A and B versions of the website etc.

In the example of the tree structures have the same hierarchical structure of nodes. In alternative examples different hierarchical structures may be defined for different customers or other root nodes . Thus other hierarchical classification schemes may be used according to the systems and methods described herein. In a particular example different analytics servers may be associated with different node s of the tree structures . The computing device of may thus route analytics data to one of the analytics servers based on which node is indicated by metadata associated with the analytics data. Accordingly illustrates a hierarchical classification scheme that may be used to classify and route analytics data.

It is to be understood that the various examples of server side and client side analytics data described herein are for example only and are not to be considered limiting. Additional illustrative non limiting examples of client side analytics are provided in Table 1 below.

Table 1 thus illustrates examples of client side analytics that a media player application may be preconfigured e.g. programmed to capture. Alternatively or in addition the techniques of the present disclosure may enable a media player application to capture custom client side analytics. For example custom analytics definitions may be provided to a media player application at runtime and or at design time as further described with reference to . The present disclosure may thus enable individual streaming service providers streaming server owners CDNs etc. to define custom analytics to be determined by client devices and to be made available for reporting.

Referring to a system that supports definitions of custom player statistics events at runtime is shown. The system includes a client device and an analytics server . The client device may correspond to the client device of the first client the second client of or a combination thereof. The analytics server may correspond to the analytics server of the computing device the first analytics server the second analytics server the third analytics server the fourth analytics server of or a combination thereof. The client device may execute a media player application . The media player application may correspond to the media player application of .

The media player application may be configured to generate standard player analytics data including but not limited to the analytics data illustrated in Table 1 above. For example the media player application may include a player analytics module e.g. the player analytics module that is configured to generate statistics and or log events based on one or more standard or default definitions of events and or statistics. The media player application may be configured to cause the client device to transmit the standard analytics data to the analytics server .

The media player application may also support a custom data definition . The custom data definition may define an event or statistic for the media player application to monitor that is not included in the standard definitions. To illustrate the custom data definitions may define a user interaction with the media player application not defined by the standard definitions. In another example the custom data definition may define a user interaction with a social media application or website that is not defined by the standard definitions. In another example the custom data definition may define statistics associated with the client device such as hardware performance statistics that are not defined by the standard definition.

It is to be understood that represents various examples of providing custom analytics definitions to the media player application . In one example the client device may receive the custom data definition as part of a web page that is configured to cause the client device to launch the media player application . For example the custom data definition may be included in a script embedded in the web page. The script may be configured to cause the client device to launch the media player application and information regarding custom analytics definitions e.g. the custom data definition may be passed to the media player application via an application programming interface API supported by the media player application . Alternatively the custom data definition may be received by the client device during execution of the media player application and may be provided to the media player application via an API. Thus an API call to provide information regarding custom analytics definitions may be made from code that is executing at the client device alongside the media player application or may be a call that is external to the media player application . The media player application may generate custom analytics data based on the custom data definition . The custom analytics data may correspond to the client report the client analytics data of the first analytics data the second analytics data of or a combination thereof. Thus the custom analytics data may include one or more timestamps one or more server IDs one or more session IDs a client ID metadata tags or a combination thereof.

In some examples media player application collects custom analytics data in response to detecting a specific event or in response to detecting that a particular statistic has a particular value or satisfies a particular threshold. The media player application may communicate analytics data e.g. the standard analytics data and the custom analytics data via an API call. For example a postAnalyticsEvent call may be used to post e.g. via a HTTP POST command a time based event to the analytics server .

Whereas illustrates an example of providing a custom data definition to the media player application at runtime after the media player application is installed on the client device illustrates an alternative embodiment of a system in which definitions of custom player statistics events are added to a media player application at design time before the media player application is deployed to a client device.

The system includes a client device and an application development deployment device . The client device may correspond to the client device of the first client the second client of or a combination thereof. The application development deployment device may include one or more network interfaces one or more processors and one or more memory devices not shown . The application development deployment device may be configured to compile link and or distribute e.g. via download via an application storefront etc. a media player application to the client device and additional client devices . The media player application may correspond to the media player application of . The media player application may include a plurality of standard definitions of events and or statistics that the media player application is to monitor and report e.g. to an analytics server . For example the media player application may be preconfigured to capture analytics including but not limited to those illustrated in above.

The application development deployment device may also support defining custom analytics events statistics. For example the application development deployment device may receive a custom data definition and may incorporate the custom data definition in the media player application e.g. in an executable file or installation package corresponding to the media player application . The custom data definition may define an event or statistic for the media player application to monitor that is not included in the standard definitions as described with reference to the custom data definition of .

The media player application may be installed at the client device . During execution the media player application may generate custom analytics data based on the custom data definition . The custom analytics data may correspond to the client report the client analytics data the first analytics data the second analytics data or a combination thereof. Thus the custom analytics data may include one or more timestamps one or more server IDs one or more session IDs a client ID metadata tags or a combination thereof.

In some examples the custom data definitions of may be received from a device associated with a customer of a streaming service such as an entity that distributes media streams and media players through a streaming service. Accordingly an individual customer of the streaming service may define custom data to be monitored for by a general purpose media player distributed by the streaming service. thus illustrate runtime and design time examples implementing custom analytics such as by using API that enables custom code bundled into a standard media player software development kit SDK to post custom data into an analytics server data stream. The API may enable individual streaming service providers or customers to define their own desired analytics data that is to be collected by media player applications in addition to any default analytics data that are predefined by a vendor of the media player applications . Examples of custom data include but are not limited to fine grained user engagement data closed captions or other timed metadata associated with a media stream e.g. an illustrative video stream in data generated by custom modules plug ins of a media player application data associated with social networking feeds or websites user interactions with user interface elements outside a media player application etc. In particular embodiments a custom data definition or a request to add specific hierarchical or non hierarchical metadata tags is communicated using an API of a media player such as a JavaScript or ActionScript API JavaScript is a registered trademarks of Oracle America Inc. of Redwood Shores Calif. ActionScript is a registered trademark of Adobe Systems Incorporated of San Jose Calif. . In some examples the custom analytics data described with reference to are associated with custom metadata and or tags so that the custom analytics data can be classified and displayed accordingly as further described with reference to .

Referring to a diagram illustrating a graphical user interface GUI that may be output by an analytics server e.g. the analytics server of or one of the analytics servers of is shown. The GUI may be output for example via a web interface to another computing device. The GUI may correspond to e.g. may display data related to a particular customer of a streaming service. In the illustrated example the GUI corresponds to Customer . In particular examples the customer may access the GUI from a computing device by providing credentials e.g. a username a password etc. to the analytics server e.g. via the web interface . In response to the credentials the analytics server may output the GUI to the computing device. The GUI may further be configured to transmit user input to the analytics server e.g. via the web interface and to display data received based on the user input as further described herein.

To illustrate the GUI includes a selection element . In the illustrated example the selection element corresponds to a drop down box but other types of GUI elements may be used in alternative embodiments. In some examples the selection element corresponds to a plurality of GUI elements e.g. drop down boxes radio buttons text boxes other GUI elements or a combination thereof . The selection element may enable a user to select a particular type of data. The selectable types of data may be classified by hierarchical metadata tags non hierarchical metadata tags metadata tags corresponding to custom data definitions or a combination thereof as described with reference to . In particular examples the selection element may enable the user to input queries based on relational operators e.g. union intersection etc. between types of data. For example the selection element may enable selection of the intersection of data tagged by a particular hierarchical metadata tag and a particular metadata tag associated with a custom data definition. In particular examples the selection element may enable selection of one or more streaming servers media player applications client devices or a combination thereof. Thus a user may utilize the GUI to for example view analytics data collected based on streams from a particular streaming server a particular version of a media player application a particular client device etc. In the embodiment of the GUI is displaying analytics data collected based on streaming of VOD content on Website A of Customer e.g. corresponding to the node in the hierarchical classification of .

The GUI further includes a display area . The display area may be configured to display analytics data received from the analytics server based on a selection input via the selection element . The analytics data displayed in the display area may include analytics data received from one or more client devices analytics data received from one or more streaming servers correlated client server analytics data as described with reference to hierarchically classified analytics data as described with reference to custom analytics data as described with reference to or any combination thereof. Each data item e.g. event or statistic may include a server ID because as described above with reference to both client data and server data may include a server ID. Client data displayed in the display area may further include a client ID. In some examples although not shown in client data and or server data may include a session ID as described with reference to .

Thus the GUI may enable a user to identify events and statistics that occur at both client devices and streaming servers that are streaming to those client devices and how the statistics are related. For example if the GUI indicates that a client device experienced streaming errors at a particular point in time the user may use the GUI to view other substantially contemporaneous analytics data and check whether other client devices experienced similar errors whether conditions at the streaming server may be the reason for the client side errors etc. To illustrate the user may select a portion of the GUI such as the server ID x23aemlp as shown at . In response the user may be presented with another GUI such as an illustrative GUI of listing various events collected for the server corresponding to the server ID x23aemlp. Thus selecting the server ID x23aemlp in the GUI may enable the user to drill down on the server and view other analytics for the server that may not be included in the GUI . In the example of the GUI shows events associated with the server ID x23aemlp that are not limited to VOD items on website A. Based on this information the user may conclude that the streaming server was overloaded and may take remedial steps to decrease the likelihood of such errors occurring in the future. It is to be understood that the embodiment of is not to be considered limiting. In alternative embodiments the user may select a different portion of the GUI or a different GUI to view drill down information related to a client ID a session ID a particular time a type of event statistic error etc.

In a particular example the display area may include a roll up of data about clients connected to a streaming server. For example the display area may indicate a total number of active sessions supported by the streaming server an average viewing time of clients communicating with the streaming server a graph of when clients joined and left one or more media streams output by the streaming server a timeline of events recorded at the media server viewership broken up by geography or other demographics a timeline including errors ABR renditions supported by the streaming server or a combination thereof.

As another example the user may use the GUI to compare different hierarchical sets of data e.g. VOD vs. Live video on Website A Website A vs. Website B paying client devices vs. free to stream client devices streaming via CDN vs. streaming via CDN etc. . It should be noted although the GUI of and the GUI of illustrate reporting of analytics data in a tabular format in alternative embodiments analytics data may be reported in other formats such as using visual charts interactive graphics etc.

Referring to a flowchart illustrating an example of a method of coordinating analytics between a media player and a server is shown. The method may be performed for example by the analytics server of or one of the analytics servers of .

The method may include receiving a client report at . The client report may include an identifier and client analytics data. The client report may be received from a client device and the client analytics data may be associated with a media stream received by the client device from a streaming server. For example the analytics server may receive the client report from the client device of . The client report may include the server ID of the streaming server and the client analytics data . The client analytics data may be associated with the client device streaming video from the streaming server . For example the client analytics data may report user engagement with a media stream hardware performance of the client device while receiving the media stream user interaction with another application or website while receiving the media stream a location of the client device while receiving the media stream etc.

The method may also include receiving a server report at . The server report may include the identifier and server analytics data. The server report may be received from the streaming server. For example the analytics server may receive the server report from the streaming server of . The server report may include the server ID and the server analytics data . The server analytics data may report statistics and or events detected by the streaming server .

The method may further include based on determining that the client report and the server report include the identifier determining that the analytics data and the server analytics data are correlated at . For example the correlated analysis module may determine that both the client report and the server report include the server ID . Accordingly the correlated analysis module may correlate the client analytics data with the server analytics data . In particular examples the analytics server may generate the analysis results commands based on the correlation of the client analytics data and the server analytics data as described with reference to .

The method may improve functioning of a computer system such as the system by enabling a server e.g. the analytics server to control a client and or a server based on synchronized analytics received from a server and a client. For example such synchronized analytics may enable the analytics server to determine that an event or action at the client may be affecting the server in a particular way or vice versa. Accordingly the analytics server may issue one or more commands to the server or the client to decrease or increase a particular effect of actions of the server on the client or vice versa. In addition or in the alternative the synchronized analytics may be output e.g. via a web interface or GUI as described with reference to to facilitate understanding client and server usage and behavior.

Referring to a flowchart illustrating a method of routing analytics data is shown. The method may be performed by a computing device such as the computing device of .

The method may include receiving client analytics data from a client device at . The client analytics data may be associated with at least one of receiving processing or playback of a media stream at the client device. For example the computing device may receive the first analytics data of . The first analytics data may be associated with an event and or statistics detected at the first client and associated with the video stream .

The method may also include identifying metadata included in the client analytics data at . The metadata may indicate that the client analytics data is associated with a particular category of data. For example the computing device may identify the metadata included in the first analytics data . The metadata may label or tag the first analytics data . In particular examples the metadata may identify a category e.g. a hierarchical category to which the first analytics data belongs as described with reference to .

The method may further include identifying based on the particular category a first analytics server from a plurality of analytics servers at . For example the computing device may identify the second analytics server as being associated with the streaming segment identified by the metadata . The method may include routing the client analytics data to the first analytics server at . For example the computing device may route the first analytics data to the second analytics server .

The method may improve functioning of a computer system such as the system by enabling a device e.g. the computing device to route analytics data to particular analytics servers. Accordingly demand on any one analytics server may be reduced and results from any particular analytics server may be obtained more quickly.

The method further includes generating at the computing device client analytics data associated with at least one of receiving processing or playback of the media stream at . For example the first client may generate the first analytics data . The first analytics data may be associated with receiving the video stream processing the video stream or playback of the video stream .

The method further includes transmitting from the computing device the client analytics data to an analytics device where the client analytics data includes metadata indicating that the client analytics data is associated with a particular category of data at . For example the first client may transmit the first analytics data to the computing device or to one of the analytics servers . The first analytics data may include the metadata . The metadata may identify the first analytics data as belonging to a particular category. In a particular example the particular category may correspond to a hierarchical category as described with reference to . In other examples the particular category may not be hierarchical. In some examples the particular category is determined based on a script included in a web page or in a media player application executing at the first client . The script may cause the first client to execute the media player application. The script may include one or more calls to an API supported by the media player application. The API calls may define the particular category e.g. the particular category may be a custom category .

Thus the method may be used to generate analytics data that is associated with receipt of a media stream and is tagged with metadata. The metadata may identify a category which may enable an analytics server to more efficiently mine analytics data received from a large number of client devices.

Referring to a method of displaying analytics data is shown. In particular examples the method may be performed by the analytics server the computing device or the analytics servers . The method includes receiving analytics data items at a computing device at . Each analytics data item is associated with one or more metadata tags. For example the analytics server may receive the client report and the server report . As another example the computing device and or the analytics servers may receive the first analytics data and the second analytics data

The method further includes receiving at the computing device input identifying one or more identified metadata tags at . For example the analytics server the computing device or one of the analytics servers may receive e.g. via a web interface an indication of metadata tags selected via the selection element . To illustrate as shown in a user may provide input selecting VOD and Website A for Customer . 

The method further includes identifying at the computing device one or more analytics data items associated with the one or more identified metadata tags at and generating a first graphical user interface based on the identified one or more analytics data items. For example the analytics server the computing device or one or more of the analytics servers may generate the display area using analytics data identified using the metadata tags selected via the selection element . To illustrate as shown in the GUI may display analytics data corresponding to VOD content streaming on Website A for Customer .

The method further includes receiving at the computing device a selection of at least a portion of the GUI at . For example the analytics server the computing device or one or more of the analytics servers may receive a selection of the server ID x23aemlp as shown at .

The method further includes identifying one or more particular analytics data items that are related to the portion of the GUI at and generating a second graphical user interface based on the one or more particular analytics data items at . For example the analytics server the computing device or one or more of the analytics servers may generate the second GUI to show all analytics data associated with the selected server ID x23aemlp.

Thus the method may be used to display analytics data associated with streaming media. The method may also enable a user to select a portion of a GUI to drill down on particular analytics data.

The computing device may include one or more processors and various components that are executable by the processor s . The computing device may correspond to or include software application s that perform media serving or processing hardware systems e.g. servers that support or perform media serving and processing or any combination thereof. Thus various operations described with reference to the computing device or components thereof may be implemented using hardware software e.g. instructions executable by the processor s or any combination thereof.

The computing device may include one or more network interfaces . For example the network interface s may include input interface s and output interface s that are configured to receive data and to send data respectively. In a particular embodiment the network interface s may be wired and or wireless interfaces that enable the computing device to communicate data via a network such as the Internet. For example the network interface s may include an Ethernet interface a wireless interface compatible with an Institute of Electrical and Electronics Engineers IEEE 802.11 e.g. Wi Fi protocol or other wired or wireless interfaces.

The network interface s may be configured to receive one or more media streams such as an illustrative live media stream from a capture source e.g. a camera or a computing device that includes or is coupled to the capture source . The live media stream may include audio data video data text data closed captioning CC data and or subtitle data and may correspond to the live stream of . The network interface s may also be configured to transmit data to the one or more playback devices e.g. a smartphone a tablet computer a laptop computer a desktop computer a set top box a television a portable media player a game console etc. .

In the embodiment of the playback devices include a desktop laptop computing device a television TV set top box streaming device such as Roku or Google Chromecast Roku is a registered trademark of Roku Inc. of Saratoga Calif. and Google Chromecast is a registered trademark of Google Inc. of Mountain View Calif. a smartphone and a tablet computer . The network interface s may further be configured to transmit data to the one or more other servers e.g. a media server a stream relay server a server of a content distribution network e.g. an edge server etc. . In the embodiment of the other servers include a media server stream relay server and a server of a content distribution network CDN . In a particular embodiment data transmitted to the playback devices and to the servers includes media streams e.g. streams including media content such as audio video text still images or a combination thereof . The media streams may be associated with the same encoding format and transmission protocol or may be associated with different encoding formats and transmission protocols. In a particular embodiment generating the media streams includes performing video decoding encoding transcoding and or transmuxing operations at the computing device e.g. to modify a video encoding format an audio encoding format a bitrate an aspect ratio packaging etc. relative to the incoming media stream . In a transmuxing operation encoded audio and video may be repackaged without modifying the encoded audio and video.

The computing device may include various components configured to perform stream processing functions. For example the computing device may include one or more video processing components such as encoder s decoder s transcoder s and or transmuxer s each of which may be implemented using hardware software or both. In a particular embodiment the transcoder s and or transmuxer s correspond to the transcoder transmuxer of . For example the transcoder s may be executed by cloud based virtual machines. The transcoder s may be configured to perform encoding decoding bitrate conversion codec conversion frame size conversion etc. Depending on a format of a received stream a playback format supported by a requesting device and or transcoding parameters in use a transcoding operation performed by the transcoder s may trigger a decoding operation and or a re encoding operation. In a particular embodiment parameters used by the transcoder s are stored in one or more transcoding templates at the computing device . The transcoder s may thus enable the computing device to process data in accordance with multiple coding technologies and protocols.

As another example the transmuxer s may be executed by cloud based virtual machines. The transmuxer s may be configured to repackage video data to conform to an output format protocol. The transmuxer s may thus enable the computing device to process data in accordance with multiple coding technologies and protocols.

For example the computing device may support video encoding types including but not limited to H.264 On2 VP based encoding on2 is a registered trademark of Google Inc. of Mountain View Calif. Sorenson Spark Sorenson Spark is a registered trademark of Sorenson Media Inc. of Salt Lake City Utah Screen video Screen video motion picture experts group MPEG 2 MPEG 2 and MPEG 4 Part . The computing device may support audio encoding types including but not limited to advanced audio coding AAC AAC low complexity AAC LC AAC high efficiency HE AAC G.711 MPEG Audio Layer 3 MP3 Speex Nellymoser Asao and AC 3.

The computing device may support communication e.g. adaptive streaming and non adaptive streaming protocols including but not limited to hypertext transfer protocol HTTP live streaming HLS HTTP dynamic streaming HDS smooth streaming and MPEG dynamic adaptive streaming over HTTP MPEG DASH also known as international organization for standardization ISO international electrotechnical commission IEC 23009 1 . The computing device may also support real time messaging protocol RTMP and variants thereof real time streaming protocol RTSP real time transport protocol RTP web real time communication WebRTC and MPEG 2 transport stream MPEG TS . Additional audio formats video formats coder decoders codecs and or protocols may also be supported.

The computing device may include one or more data storage devices e.g. random access memory RAM disk based storage etc. . The data storage device s may store stream data e.g. frames of a live video stream files closed caption data images e.g. to be overlaid on top of a video stream and other data. In a particular embodiment the data storage device s store a video on demand VOD item . The VOD item may include audio data video data text data closed captioning CC data and or subtitle data. For example the VOD item may be a movie or a television show. Alternately the VOD item may be stored remote from the computing device and may be accessible by the computing device via a network e.g. the Internet . The VOD item may correspond to the VOD item .

In a particular embodiment the computing device may support adaptive streaming. For example the computing device may be configured to generate an adaptive streaming master rendition list. The master rendition list may include information describing adaptive bitrate renditions that are available for adaptive streaming. To initiate an adaptive streaming session a destination device e.g. one of the playback devices may request the master rendition list for example by transmitting a HTTP GET request for the master rendition list. Upon receiving the master rendition list the destination device may determine which of the available renditions should be requested from the computing device . For example the destination device may make such a determination based on buffering processing capability at the destination device and or network conditions e.g. bandwidth being experienced by the destination device.

Upon determining which rendition should be requested the destination device may transmit a request e.g. a HTTP GET request to the computing device . The request may specify a particular rendition chunk list. In response to the request the computing device may transmit a rendition chunk list to the destination device. Upon receiving the rendition chunk list the destination device may determine a particular portion e.g. portion X of the requested rendition to request. The particular portion may correspond to one or more media chunks. A media chunk may refer to a fixed length duration e.g. ten seconds portion or to a variable length duration portion of a stream rendition. The particular portion may be specified using start end frame numbers start end times a portion number identifier etc. The destination device may transmit a request e.g. a HTTP GET request to the computing device identifying the particular portion. In response to the request identifying the particular portion the computing device may transmit the particular portion to the destination device. Depending on the adaptive streaming protocol in use the requested portion may correspond to a chunk of a rendition and or a group of pictures GOP . A chunk may refer to a fixed e.g. ten seconds or variable length duration of a stream rendition. A group of pictures may refer to a collection of video frames that includes one or more intra coded frames I frames and one or more additional frames that include difference information relative to the one or more I frames e.g. P frame and or B frames . If there are no problems with receipt and playback of the requested portion the destination device may request a subsequent portion e.g. portion X 1 of the same rendition. However if playback and or network conditions become worse the destination device may switch to a lower bitrate rendition by requesting subsequent portions of the lower bitrate rendition. Conversely if playback and or network conditions improve the destination device may switch to a higher bitrate rendition. The computing device may generate key frame aligned portions for the adaptive streaming renditions so that switching to a lower bitrate or higher bitrate rendition appears seamless e.g. does not result in noticeable visual glitches or dropped frames .

The computing device may also include a server analytics module which may operate as described with reference to the server analytics module of . During operation the computing device may distribute a server ID to the playback devices that stream from the computing device such as in a master rendition list e.g. a manifest a playlist etc. in a rendition chunk list and or in media chunks. The computing device may include the server ID in server reports of server analytics that are sent e.g. via HTTP POST requests to the analytics server s . The playback devices that stream from the computing device may include the server ID in client reports of client analytics sent e.g. via HTTP POST requests to the analytics server . In an embodiment where the analytics server s is collocated with a streaming server e.g. the computing device first HTTP port s may be used to communicate a master rendition list and media chunks and second HTTP port s may be used to for communication of analytics data.

The servers may include other server IDs in server reports sent to the analytics server s . The playback devices that stream from the servers may include the corresponding server IDs in client reports of client analytics sent to the analytics server s . Accordingly the analytics server s may correlate server and client analytics based on the server IDs. In some embodiments reports are received by an intermediate device not shown and routed to the analytics server s based on metadata included in the reports as described with reference to . In some embodiments analytics data received by the analytics server s is categorized and or tagged with non hierarchical metadata as described with reference to . In some embodiments one or more of the playback devices is configured to collect and transmit custom analytics data as described with reference to .

It should be noted that the orders of steps described with reference to are to be considered illustrative not limiting. In alternate embodiments the order of steps may be different. Further one or more steps may be optional and or replaced by other steps. In addition one or more steps may be consolidated. In accordance with various embodiments of the present disclosure one or more methods functions and modules described herein may be implemented by software programs executable by a computer system. Further implementations can include distributed processing component object distributed processing and or parallel processing.

Particular embodiments can be implemented using a computer system executing a set of instructions that cause the computer system to perform any one or more of the methods or computer based functions disclosed herein. A computer system may include a laptop computer a desktop computer a server computer a mobile phone a tablet computer a set top box a media player one or more other computing devices or any combination thereof. The computer system may be connected e.g. using a network to other computer systems or peripheral devices. For example the computer system or components thereof can include or be included within any one or more of the client device the streaming server the analytics server of the computing device the first client the second client the first analytics server the second analytics server the third analytics server the fourth analytics server of the client device the analytics server of FIG. A the applicant development deployment device the client device of the computing device the playback devices the servers the analytics server of or any combination thereof.

In a networked deployment the computer system may operate in the capacity of a server or as a client user computer in a server client user network environment or as a peer computer system in a peer to peer or distributed network environment. The term system can include any collection of systems or sub systems that individually or jointly execute a set or multiple sets of instructions to perform one or more computer functions.

In a particular embodiment the instructions can be embodied in a computer readable storage device or a processor readable storage device. The terms computer readable storage device and processor readable storage device include a single storage device or multiple storage devices such as a centralized or distributed database and or associated caches and servers that store one or more sets of instructions. The terms computer readable storage device and processor readable storage device also include any device that is capable of storing a set of instructions for execution by a processor or that cause a computer system to perform any one or more of the methods or operations disclosed herein. For example a computer readable or processor readable storage device may include random access memory RAM flash memory read only memory ROM programmable read only memory PROM erasable programmable read only memory EPROM electrically erasable programmable read only memory EEPROM registers a hard disk a removable disk a disc based memory e.g. compact disc read only memory CD ROM a solid state memory or any other form of storage device. A computer readable or processor readable storage device is not a signal.

As used herein a live stream may differ from a video on demand VOD stream. A VOD stream originates from or corresponds to content that is available in its entirety at a stream source when a packet of the VOD stream is sent. For example a VOD stream may correspond to a movie or television show that is stored at a storage device. A live stream corresponds to content that is not available in its entirety when a packet of the live stream is sent. For example a live stream may be used to transmit audio and or video content corresponding to an event as the event is being captured e.g. in real time or near real time . Examples of such events may include but are not limited to in progress sporting events musical performances video conferences and webcam feeds. It should be noted that a live stream may be delayed with respect to the event being captured e.g. in accordance with government or industry regulations such as delay regulations enforced by the Federal Communications Commission FCC . In addition to such live feeds the described systems and methods may also be used in conjunction with live linear television TV streams. A live linear TV stream may correspond to a VOD asset being rebroadcast as a live feed. It should also be noted that although certain embodiments may be described herein with reference to video on demand not all of the described techniques may require video content or data. Certain embodiments may also be used on demand content that does not include video e.g. audio on demand radio or music streams .

In a particular embodiment a method includes receiving a client report including an identifier and client analytics data the client report received from a client device and the client analytics data associated with a media stream received by the client device from a streaming server. The method further includes receiving a server report including the identifier and server analytics data the server report received from the streaming server. The method further includes based on determining that the client report and the server report include the identifier determining that the client analytics data and the server analytics data are correlated.

In another particular embodiment an apparatus includes a network interface to receive a client report including an identifier and client analytics data the client report received from a client device and the client analytics data associated with a media stream received by the client device from a streaming server. The network interface is further configured to receive a server report including the identifier and server analytics data the server report received from the streaming server. The apparatus further includes a processor and a memory. The memory stores instructions that when executed by the processor cause the processor to perform operations. The operations include based on determining that the client report and the server report include the identifier determining that the client analytics data and the server analytics data are correlated.

In another particular embodiment a computer readable storage device includes instructions that when executed by a processor cause the processor to perform operations. The operations include receiving a client report including an identifier and client analytics data the client report received from a client device and the client analytics data associated with a media stream received by the client device from a streaming server. The operations further include receiving a server report including the identifier and server analytics data the server report received from the streaming server. The operations further include based on determining that the client report and the server report include the identifier determining that the client analytics data and the server analytics data are correlated.

In another particular embodiment a method includes receiving client analytics data from a client device the client analytics data associated with at least one of receiving processing or playback of a media stream at the client device. The method further includes identifying metadata included in the client analytics data the metadata indicating that the client analytics data is associated with a particular category of data. The method further includes identifying based on the particular category a first analytics server from a plurality of analytics servers. The method further includes routing the client analytics data to the first analytics server. In some examples the method may also include generating a GUI displaying at least a portion of the client analytics data. Such a GUI may for example enable analysis of the client analytics data based on the metadata.

In another particular embodiment an apparatus includes a network interface configured to receive client analytics data from a client device the client analytics associated with at least one of receiving processing or playback of a media stream at the client device. The apparatus further includes a processor and a memory. The memory stores instructions that when executed by the processor cause the processor to perform operations. The operations include identifying metadata included in the client analytics data the metadata indicating that the client analytics data is associated with a particular category of data. The operations further include identifying based on the particular category a first analytics server from a plurality of analytics servers. The operations further include initiating transmission of the client analytics data to the first analytics server. In some examples the operations may also include generating a GUI displaying at least a portion the client analytics data. Such a GUI may for example enable analysis of the client analytics data based on the metadata.

In another particular embodiment a method includes receiving at a computing device a media stream. The method further includes generating at the computing device client analytics data associated with at least one of receiving processing or playback of the media stream. The method further includes transmitting from the computing device the client analytics data to an analytics device the client analytics data including metadata indicating that the client analytics data is associated with a particular category of data.

In another particular embodiment an apparatus includes a network interface configured to receive at a computing device a media stream. The apparatus further includes a processor and a memory. The memory stores instructions that when executed by the processor cause the processor to perform operations. The operations include generating at the computing device client analytics data associated with at least one of receiving processing or playback of the media stream. The operations further include initiating transmission from the computing device of the client analytics data to an analytics device the client analytics data including metadata indicating that the client analytics data is associated with a particular category of data.

In another particular embodiment a computer readable storage device includes instructions that when executed by a processor cause the processor to perform operations. The operations include receiving at a computing device a media stream. The operations further include generating at the computing device client analytics data associated with at least one of receiving processing or playback of the media stream. The operations further include initiating transmission from the computing device of the client analytics data to an analytics device the client analytics data including metadata indicating that the client analytics data is associated with a particular category of data.

The illustrations of the embodiments described herein are intended to provide a general understanding of the structure of the various embodiments. The illustrations are not intended to serve as a complete description of all of the elements and features of apparatus and systems that utilize the structures or methods described herein. Many other embodiments may be apparent to those of skill in the art upon reviewing the disclosure. Other embodiments may be utilized and derived from the disclosure such that structural and logical substitutions and changes may be made without departing from the scope of the disclosure. Accordingly the disclosure and the figures are to be regarded as illustrative rather than restrictive.

Although specific embodiments have been illustrated and described herein it should be appreciated that any subsequent arrangement designed to achieve the same or similar purpose may be substituted for the specific embodiments shown. This disclosure is intended to cover any and all subsequent adaptations or variations of various embodiments. Combinations of the above embodiments and other embodiments not specifically described herein will be apparent to those of skill in the art upon reviewing the description.

The Abstract is submitted with the understanding that it will not be used to interpret or limit the scope or meaning of the claims. In addition in the foregoing Detailed Description various features may be grouped together or described in a single embodiment for the purpose of streamlining the disclosure. This disclosure is not to be interpreted as reflecting an intention that the claimed embodiments require more features than are expressly recited in each claim. Rather as the following claims reflect inventive subject matter may be directed to less than all of the features of any of the disclosed embodiments.

The above disclosed subject matter is to be considered illustrative and not restrictive and the appended claims are intended to cover all such modifications enhancements and other embodiments which fall within the scope of the present disclosure. Thus to the maximum extent allowed by law the scope of the present disclosure is to be determined by the broadest permissible interpretation of the following claims and their equivalents and shall not be restricted or limited by the foregoing detailed description.

