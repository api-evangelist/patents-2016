---

title: Active subscription profiles on secure element supporting concurrent usage of network services
abstract: A method, a device, and a non-transitory storage medium provide storing multiple subscription profiles on a secure element; detecting a triggering event; using, by a first stack of a wireless end device, one of the subscription profiles to register with a first network service via a first network; indicating that the one of the subscription profiles is enabled; querying, by a second stack of the wireless end device, the secure element for another one of the subscription profiles; obtaining, by the second stack, access information to the other one of the subscription profiles; selecting, by the second stack, the other one of the subscription profiles; using, by the second stack, the other one of the subscription profiles to register with a second network service via a second network; and indicating that the other one of the subscription profiles is enabled.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09531831&OS=09531831&RS=09531831
owner: Verizon Patent and Licensing Inc.
number: 09531831
owner_city: Basking Ridge
owner_country: US
publication_date: 20160405
---
A Subscriber Identification Module SIM card is used on various mobile devices. The SIM card may be implemented as a Universal Integrated Circuit Card UICC configured with an application and data that enables the mobile device to access a wireless network.

The following detailed description refers to the accompanying drawings. The same reference numbers in different drawings may identify the same or similar elements. In addition the following detailed description does not limit the invention.

There are a variety of wireless devices and architectures surrounding SIM cards and the applications stored on them. For example a wireless device may include multiple SIM trays to support multiple SIM cards. However when in use only one subscription is active at a time. While the wireless device may support multiple radio frequencies RFs which would allow for simultaneous calls the cost of the wireless device is significantly increased. According to an alternate architecture e.g. 3GPP technical specification TS 31.102 a wireless device may support a single SIM card that includes multiple Universal SIMs USIMs . The USIM application enables the wireless device to access a Long Term Evolution LTE network and a Third Generation Partnership Project 3GPP legacy network. However when in use only one telephone number is active at a time. The embedded UICC eUICC also known as embedded SIM or eSIM technology allows the download of multiple profiles to a single UICC. This architecture may be considered analogous to a wireless device that includes multiple SIM trays. However when in use there is no ability to perform multi persona scenarios. Rather the GSM Association GSMA technical specification e.g. Remote SIM Provisioning RSP Architecture Version 1.0 23 Dec. 2015 requirement no. EUICC5 etc. limits one mobile network operator MNO subscription to be enabled at any point in time.

According to an exemplary embodiment a single radio device and a secure element provide multi active profiles based network services in which multiple subscription profiles stored on the secure element can be active simultaneously and the single radio device can be connected to multiple network services of a single carrier or of multiple carriers. Each subscription profile includes data needed for the user and the single radio device to be granted access and use of the network service. In this regard the network service may be any service in which the subscription profile stored on the secure element can be used to grant access and use of the network service. According to an exemplary implementation the network service is an Internet Protocol Multimedia Subsystem IMS network that offers a service such as voice instant messaging etc. According to another exemplary implementation the network service may be another type of network or network device that offers an end user service or application a rich communication service RCS or other type of service. According to one exemplary implementation the multiple network services are the same. For example the user may via the single radio device which includes the secure element place and receive telephone calls with multiple telephone numbers associated with multiple active subscriptions of a single carrier or of different carriers simultaneously. According to another exemplary implementation the network services may be different. For example one network service may be a voice service and the other network service may be a messaging service.

According to an exemplary implementation the secure element includes an eUICC a UICC or other platform e.g. logic of the single radio device . According to an exemplary embodiment the secure element stores a file or an applet e.g. a container that includes a list of available subscription profiles. According to an exemplary embodiment the secure element permits multiple subscription profiles to be enabled or active at the same time. The file or the applet is always available for use regardless of the state e.g. active inactive enabled disabled etc. of other subscription profiles e.g. mobile network operator subscriptions stored on the secure element. Each subscription profile includes data that can be used to allow the user and the single radio device access and use of the network service. For example the subscription profile may include a user identifier a device identifier a key a network address a network identifier and or other types of data e.g. a credential a password a certificate etc. that may be configured by a network service provider or mobile network operator to enable the user and the single radio device to access and use the network service. For example the subscription profile includes data that permits a network a network device and or a network service to authenticate and or authorize the user and or the single radio device. Additionally or alternatively the subscription profile may include data that permits the user and the single radio device to register with the network service. According to an exemplary implementation the subscription profiles of the list include an IMS subscription profile. According to another exemplary implementation the subscription profiles of the list pertain to another type of network network device and so forth via which the network service is offered. According to an exemplary embodiment the list of subscription profiles can be updated such as adding a subscription profile or deleting a subscription profile.

According to an exemplary embodiment the single radio device includes a protocol stack that is used to connect to and use the network service. For example the protocol stack can use a subscription profile stored on the secure element and allow the user single radio device to access and use the corresponding network service. According to an exemplary implementation the protocol stack is implemented as a part of the communication interface of the single radio device. By way of further example the protocol stack may be implemented as a part of and or executable by the baseband processor.

According to an exemplary embodiment in addition to the protocol stack of the communication interface the single radio device includes one or multiple additional protocol stacks. According to an exemplary implementation the additional protocol stack is implemented as a part of and or executable by the application processor. According to another exemplary implementation the additional protocol stack is implemented as a part of the communication interface. The additional protocol stack can use a subscription profile stored in the list of the secure element and allow the user single radio device to access and use the network service. In this way the single radio device is enabled to simultaneously attach to multiple network services based on the subscription profiles stored on the secure element. For example different IMS clients services are simultaneously operational on the single radio device.

The number of the number of end devices the number of networks and the arrangement in environment are exemplary. According to other embodiments environment may include an additional network and or arrangement of networks that is are different from that illustrated in . For example a network that is different from IMS network e.g. IMS network and or Internet may be implemented as an external network relative to core network . For example the external network may be packet switched network a public network a private network an IPv4 network an IPv6 network a data network or some other type of network. As further illustrated environment includes various communicative links. Environment may be implemented to include wireless e.g. radio etc. and or wired e.g. electrical optical etc. communicative links. The communicative link between end device and a network or between networks may be direct or indirect. For example an indirect communicative link may involve an intermediary network element and or an intermediary network not illustrated in . Additionally the number of communicative links and the arrangement of communicative links illustrated in environment are exemplary.

Access network includes one or multiple networks of one or multiple types. For example access network may be implemented to include a wireless network. According to an exemplary implementation access network includes a radio access network RAN . For example the RAN may be a Third Generation 3G RAN a Fourth Generation 4G RAN a Fifth Generation 5G RAN a future generation wireless network architecture etc. By way of further example access network may include an Evolved UMTS Terrestrial Radio Access Network E UTRAN of a Long Term Evolution LTE network or LTE Advanced LTE A network a U TRAN a Universal Mobile Telecommunications System UMTS RAN a Global System for Mobile Communications GSM RAN a Wideband Code Division Multiple Access WCDMA RAN an Ultra Mobile Broadband UMB RAN a Code Division Multiple Access CDMA RAN a High Speed Packet Access HSPA RAN an Evolution Data Optimized EV DO RAN or the like e.g. a Worldwide Interoperability for Microwave Access WiMAX access network other type of public land mobile network PLMN etc. . Depending on the implementation access network may include various network elements such as a base station BS a base transceiver station BTS a Node B an evolved Node B eNB a BS controller BSC a radio network controller RNC a femto device a pico device a home eNB a relay node a wireless access point or other type of wireless node that provides wireless access. Access network may include a wired network. For example access network may include an optical network or a cable network.

Core network includes one or multiple networks of one or multiple types. For example core network may be implemented to include a wireless network and or a wired network. According to an exemplary implementation core network includes a complimentary network pertaining to the one or multiple RANs described above. For example core network may include an evolved packet core EPC network of an LTE network or an LTE A network a GPRS core network etc. Depending on the implementation core network may include various network elements such as a packet data network gateway PGW a serving gateway SGW a mobility management entity MME a Gateway General Packet Radio Service GPRS Support Node GGSN a Serving GPRS Support Node SGSN a Packet Data Serving Node PDSN a High Rate Packet Data HRPD Serving Gateway HSGW etc to provide core network functions as well other network elements pertaining to various network related functions such as billing security network polices subscriber profiles etc. Core network may also include other network elements to support internetworking between networks.

IMS network includes network elements of an IMS system. For example although not illustrated IMS network includes a Proxy Call Session Control Function P CSCF an Interrogating CSCF I CSCF a Serving CSCF S CSCF an Emergency CSCF E CSCF and so forth. IMS network also includes network elements that provide end users with various applications and or services such as voice data instant messaging video multimedia etc. For example IMS network includes various application servers. Internet is the Internet. The Internet may include various network elements that provide various services applications and so forth.

End device includes a device that has computational and wireless communicative capabilities. End device may be implemented as a mobile device a portable device a wearable device or a stationary device. For example end device may be implemented as a smartphone a mobile telephone a personal digital assistant a tablet a netbook a phablet a laptop an infotainment system in a vehicle a watch a music playing device an Internet device a gaming device etc.

According to an exemplary embodiment end device is a single radio device. For example according to an exemplary implementation end device includes radio frequency logic which includes a single transmitter chain and a single receiver chain. According to another exemplary implementation end device includes radio frequency logic which includes a single transmitter chain and two or more receiver chains that operate on the same frequency e.g. connected to a same local oscillator for multiple input multiple output MIMO communication. End device may support one or multiple radio access technologies RATs . For example end device may be configured to wirelessly communicate according to various RATs such as LTE LTE A GSM HSPA EV DO UMTS CDMA e.g. CDMA2000 1 RTT etc. and so forth.

End device stores one or multiple end user applications. For example end device may include a telephone application a multi media application a video call application an e mail application a contacts application a calendar application an instant messaging application a web browsing application a location based application e.g. a Global Positioning System GPS based application etc. a social networking application a camera application a toolbar application and so forth.

According to an exemplary embodiment in addition to a native protocol stack end device includes one or multiple additional protocol stacks. According to an exemplary implementation the additional protocol stack is implemented as a part of and or executable by an application processor. According to another exemplary implementation the additional protocol stack is implemented as a part of the communication interface. For example the additional protocol stack may be implemented as a part of the baseband processor the modem or other component. The additional protocol stack provides a service or a function of the native protocol stack. For example the additional protocol stack may include a set of libraries executables and or a program to provide networking capabilities.

According to an exemplary implementation the additional protocol stack includes a client that manages the access and enablement of a network service based on a subscription profile stored on secure element . For example the client manages a registration process which includes authentication and or authorization of user and or end device with a network device. Additionally according to an exemplary embodiment the native protocol stack manages the access and enablement of another network service based on another subscription profile stored on secure element . For example the native protocol stack manages a separate registration process which includes authentication and or authorization of user and or end device with another network device. In this way the native protocol stack and the additional protocol stack can support two or more services offered by one or multiple carriers in which user and or end device is authenticated and or authorized to use each network service. Additionally the two or more network services may afford user with different personas.

According to an exemplary implementation the additional protocol stack includes an IMS stack. For example the IMS stack includes an IMS client that manages the registration process between end device and IMS network and further signaling required for use of a service offered by IMS network e.g. voice video etc. . The IMS stack would use the subscription profile and logic of secure element to provide this service. Additionally for example a native IMS stack manages the registration process between end device and IMS network e.g. of a same or different carrier and further signaling required for use of a service offered by IMS network e.g. voice video etc. .

According to an exemplary use case user may register with IMS networks via end device which includes secure element for voice services and allow user to place and receive voice calls via multiple telephone numbers simultaneously. Additionally as described herein in contrast to existing technical specifications of a secure element e.g. a UICC an eUICC etc. secure element provides that multiple subscription profiles can be active at the same time. Thus the additional IMS stack may use one subscription profile stored by secure element and the native IMS stack may use another subscription profile stored by secure element .

Secure element includes a platform that hosts an application and stores subscription profiles. According to one example secure element may be implemented as an eUICC. According to another example secure element may be implemented as a UICC or other type of form factor. According to yet another example secure element may be implemented as a part of the modem of end device or another entity of end device . Depending on the implementation secure element may be embedded or fixed on e.g. relative to other hardware of end device e.g. a circuit board etc. or may be removable from end device . Secure element may include various components such as a processor a memory and instructions that provide the multi active profiles based network services. According to an exemplary embodiment secure element includes a memory that stores a file or an applet e.g. a container that includes a list of available subscription profiles. According to an exemplary implementation the subscription profiles include IMS subscription profiles that permit user to register with and use IMS networks . According to other exemplary implementations the subscription profiles permit user to register with services applications web sites etc. residing in Internet . User is a person that operates end device .

Bus includes one or multiple paths that permit communication among the components of end device . For example bus may include various types of buses such as a system bus an address bus a data bus a control bus etc. Bus may also include other types of components such as bus drivers bus arbiters bus interfaces clocks etc.

Processor includes one or multiple processors microprocessors data processors co processors application specific integrated circuits ASICs controllers programmable logic devices chipsets field programmable gate arrays FPGAs application specific instruction set processors ASIPs system on chips SoCs central processing units CPUs e.g. one or multiple cores microcontrollers and or some other type of component that interprets and or executes instructions and or data. Processor may be implemented as hardware e.g. a microprocessor etc. a combination of hardware and software e.g. a SoC an ASIC etc. may include one or multiple memories e.g. cache etc. etc.

Processor may control the overall operation or a portion of operation s performed by end device . Processor may perform one or multiple operations based on an operating system and or various applications or computer programs e.g. software . Processor may access instructions from memory storage from other components of end device and or from a source external to end device e.g. a network another device etc. . Processor may perform an operation and or a process based on various techniques including for example multithreading parallel processing pipelining interleaving etc.

Memory storage includes one or multiple memories and or one or multiple other types of storage mediums. For example memory storage may include one or multiple types of memories such as random access memory RAM dynamic random access memory DRAM cache read only memory ROM a programmable read only memory PROM a static random access memory SRAM a single in line memory module SIMM a dual in line memory module DIMM a flash memory and or some other type of memory. Memory storage may include a hard disk e.g. a magnetic disk an optical disk a magneto optic disk a solid state disk etc. and a corresponding drive. Memory storage may include a hard disk e.g. a magnetic disk an optical disk a magneto optic disk a solid state disk etc. a Micro Electromechanical System MEMS based storage medium and or a nanotechnology based storage medium. Memory storage may include drives for reading from and writing to the storage medium.

Memory storage may be external to and or removable from end device such as for example a Universal Serial Bus USB memory stick a dongle a hard disk mass storage off line storage or some other type of storing medium e.g. a compact disk CD a digital versatile disk DVD a Blu Ray disk BD etc. . Memory storage may store data software and or instructions related to the operation of device .

Software includes an application or a program that provides a function and or a process. Software is also intended to include firmware middleware microcode hardware description language HDL and or other form of instruction e.g. libraries script module etc. . Software includes an operating system OS . For example depending on the implementation of end device the operating system may correspond to iOS Android Windows Phone Symbian or another type of operating system e.g. proprietary BlackBerry OS Windows Linux Open AT eCos etc. . Software may include various end user applications and or programs such as a telephone application a multi media application a video call application and so forth as previously described.

Additionally according to an exemplary embodiment software includes one or multiple additional protocol stacks which when executed by a processor e.g. processor a baseband processor etc. provides multi active profiles based network services as described herein.

Communication interface permits end device to communicate with other devices networks systems and or the like. Communication interface includes a wireless interface. For example the wireless interface may support one or multiple short range wireless access technologies e.g. WiFi Bluetooth Zigbee etc. and or one or multiple long range wireless access technologies e.g. LTE CDMA GSM etc. . Communication interface may include a wired interface. For example the wired interface may support various types of broadband connections such as cable fiber optic Ethernet Universal Serial Bus USB etc. Communication interface may also be configured with a communication interface directed to a global navigational satellite system GNSS e.g. Global Positioning System GPS receiver and logic mobile television and so forth.

Communication interface includes a transmitter and a receiver or a transceiver. As previously described according to an exemplary embodiment end device is a single radio device. According to an exemplary implementation the radio frequency logic includes a single transmitter chain and a single receiver chain. According to another exemplary implementation radio frequency logic includes a single transmitter chain and two or more receiver chains that operate on the same frequency. Communication interface may include a baseband modem processor that performs baseband modem functions. Communication interface may operate according to a protocol stack and a communication standard. Communication interface may include various processing logic or circuitry e.g. multiplexing de multiplexing filtering amplifying converting error correction etc. . Communication interface includes one or multiple antennas that enable wireless communication. For example the antenna may be implemented according to various configurations such as single input single output SISO multiple input single output SIMO multiple input single output MISO or multiple input multiple output MIMO . The antenna operates according to a frequency band e.g. 700 MHz etc. a communication standard e.g. an LTE antenna etc. and so forth. The antenna may be coupled to long range wireless access circuitry logic and or short range wireless access circuitry logic of communication interface .

Input permits an input into end device . For example input may include a keyboard a mouse a display a button a switch an input port speech recognition logic a microphone a camera and or some other type of visual auditory tactile etc. input component. Output permits an output from end device . For example output may include a speaker a display a light an output port and or some other type of visual auditory tactile etc. output component. According to some embodiments input and or output may be a device that is attachable to and removable from end device .

Secure element interface includes a terminal interface that provides operability and communication between end device and secure element . Depending on the implementation of secure element e.g. eUICC etc. secure element interface may comport with a particular terminal interface standard e.g. 3GPP GSMA etc. a proprietary terminal interface and so forth.

End device may perform a process and or a function as described herein in response to processor executing software stored by memory storage . By way of example instructions may be read into memory storage from another memory storage not shown or read from another device not shown via communication interface . The instructions stored by memory storage cause processor to perform a process described herein. Alternatively for example according to other implementations end device performs a process described herein based on the execution of hardware processor etc. . Additionally or alternatively end device may perform a process and or a function based on various combinations of communication interface secure element processor executing software and so forth.

Antenna includes antennas that support a transmitter chain and a receiver chain. Antenna may support one or multiple radio access technologies. Antenna may be implemented according to various configurations as previously described.

Radio frequency front end may include various components that provide an interface between antenna and transmitter and receiver chain . For example radio frequency front end may include a filter an impedance matching circuit a radio frequency switch circuit and so forth.

Transmitter and receiver chain includes a single receiver chain and a single transmitter chain. Alternatively according to an exemplary implementation transmitter and receiver chain includes multiple receiver chains and a single transmitter chain. The transmitter chain may include various components such as for example an amplifier a mixer a digital to analog converter DAC a filter an oscillator etc. The receiver chain may include various components such as for example an amplifier a mixer an analog to digital converter ADC a filter an oscillator etc. When multiple receiver chains are implemented the receiver chains may share the oscillator or each has its own.

Baseband processor includes various components that provide transmit functions and receive functions. For example the transmit functions may include encoding interleaving mapping cyclic prefix adding a Fast Fourier Transfer FFT function and so forth. Additionally for example the receive functions may include decoding de interleaving de mapping cyclic prefix subtracting an inverse IFFT function and so forth. Depending on the wireless access technology baseband processor may include components different from those described to provide transmit and or receive functions. Baseband processor may include a memory and or a storage unit to store data. Baseband processor may also obtain analyze and generate various types of information pertaining to signals such as received signal code power RSCP information signal to interference plus noise ratio SINR information channel quality indicator CQI information received signal strength indicator RSSI information signal to noise ratio SNR information and so forth.

Network service logic includes logic that provides various network service functions pertaining to short range and or long range wireless communications. Network service logic may include various protocol stacks layers etc. such as IP Transmission Control Protocol TCP User Datagram Protocol UDP Session Initiation Protocol SIP Real Time Protocol RTP Message Session Relay Protocol MSRP Diameter a domain name system DNS stack a Rich Communication Suite RCS stack an IMS stack a long range wireless network stack e.g. an LTE stack a CDMA stack a GSM stack etc. a short range wireless network stack e.g. a Bluetooth stack etc. and so forth to allow communication between end device and an external entity e.g. network network device system application service etc. .

According to an exemplary embodiment network service logic uses secure element to provide multi active profiles based network services as described herein. For example an IMS stack an RCS stack etc. uses a subscription profile of the list stored by secure element to allow end device user to connect register and use a network service e.g. an IMS service an RCS service etc. .

Resource coordinator includes logic to coordinate use of end device e.g. communication interface etc. and secure element resources to provide the multi active profiles based network services. For example resource coordinator may include one or multiple algorithms that provide s parallel scheduling and or interleaved scheduling for use of available resources.

Memory stores the file or the applet which includes a list of subscription profiles and permits multiple subscription profiles to be concurrently enabled or active as described herein. For example referring to memory may store a file . File stores a list of subscription profiles through X in which X 1 referred to as subscription profiles and individually and generically as subscription profile . Multiple numbers of subscription profiles may be concurrently active or enabled.

Referring back to memory may store other subscription profiles which may not be included in the file or the applet. For example in contrast to the subscription profiles included in the list these other subscription profiles may not permit multiple subscription profiles to be concurrently enabled relative to each other.

Memory stores software for execution. For example memory may store an operating system and other entities e.g. an applet a program an application etc. to manage various tasks associated with the storage access and use of the subscription profiles. By way of example memory may store various elements that provide various functions analogous to those set forth in the GSMA specification for eUICC such as secure storage of subscription profiles management of the lifecycle of subscription profiles authentication an access service to the subscription profiles and so forth. For purposes of description the GSMA document entitled RSP Architecture Version 1.0 23 Dec. 2015 is incorporated herein by reference in its entirety. Additionally or alternatively memory may store various elements that provide various functions analogous to those set forth in other specifications standards etc. e.g. an Open Mobile API specification a GlobalPlatform specification an International Organization for Standardization ISO standard an International Electrotechnical Commission IEC standard etc. or various elements of a proprietary nature.

Secure element may perform certain operations or processes in response to processor executing software instructions stored in memory . According to other exemplary implementations secure element may include additional fewer and or different components than those illustrated in . Additionally or alternatively the configuration of components of secure element illustrated in may be different.

End user application may be implemented as an end user application such as a telephone application a messaging application a browser and so forth as previously described. Application processor may include a processor of a type previously described in relation to processor . According to an exemplary implementation application processor executes the additional protocol stack e.g. in the application layer . According to another exemplary implementation baseband processor may execute additional protocol stack e.g. in the communication layer .

Configuration includes data and or logic that allows end device to know with what network device to establish a connection and how to establish a connection. For example configuration may include a network address of the network device with which to establish a connection and the protocol s or other communicative configurations to use so that a network service can be accessed and used. By way of further example configuration may include an access point name APN setting e.g. home APN visited APN Internet APN IMS APN etc. a network service address and so forth. According to an exemplary implementation configuration may be downloaded and stored based on a user preference. For example user may indicate certain preferences pertaining to a network service in terms of type e.g. voice messaging etc. network service provider e.g. provider X provider Y etc. and or other parameters e.g. cost location of user time of day etc. .

Additional protocol stack includes software such as for example a set of libraries executables and or a program that manages the access and enablement of a network service based on profile stored on secure element . For example when executed additional protocol stack may generate SIP messages open a socket establish a connection to the network service via the socket and an APN or via the socket and the Internet obtain credentials from secure element manage signaling manage media and so forth. One or multiple additional protocol stacks may be implemented in the application layer the baseband layer both etc. For example as illustrated by dashed lines additional protocol stack A may be implemented in the baseband modem layer.

Interface layer includes logic that provides an interface to the radio and modem hardware of end device . For example interface layer may provide an interface between application processor and baseband processor . Interface layer may transmit various commands e.g. AT commands solicited commands unsolicited commands etc. and receive various responses so as to use modem applications functionalities and so forth. Interface layer may be implemented in the operating system. For example interface layer may be implemented to include a radio interface layer e.g. an Android RIL a Windows Phone RIL etc. .

Native protocol stack includes software such as for example a set of libraries executables and or a program that manages the access and enablement of a network service based on a subscription profile stored on secure element . For example when executed native protocol stack may provide services similar to those described in relation to additional protocol stack and or described elsewhere in this description.

Access control layer includes logic that provides access and use of secure element . For example end user application and additional protocol stack may communicate to profile handler via access control layer . Access control layer may include various service layer application programming interfaces APIs and or transport layer APIs to allow access and communication between secure element and other elements e.g. end user application additional protocol stack software etc. of end device . For example access control layer may be implemented based on an Open Mobile API Specification e.g. version 3.2 2016 of SIMalliance which is incorporated by reference in its entirety and or some other type of API service or communication logic. Additionally or alternatively access control layer may be implemented based on a GlobalPlatform Specification e.g. Secure Element Access Control version 1.0 ref. GPD SPE 013 which is incorporated by reference in its entirety a Trusted Execution Environment TEE specification etc. and or some other type of access rights logic.

Profile handler includes logic that provides access to profiles stored on secure element . For example profile handler provides a discovery or a lookup service that searches locates selects and or identifies one or multiple subscription profiles and provides access information. By way of example access information may include an address e.g. a subscription profile address an applet address or a module address etc. an identifier e.g. an application identifier AID a subscription profile identifier etc. metadata pertaining to the subscription profile and so forth pertaining to the access of a subscription profile. According to an exemplary implementation profile handler may be an element that complements or is a counterpart to an element of access control layer . For example access control layer may include a profile handler that requests and obtains access information of a subscription profile. By way of further example profile handler and the profile handler may be implemented based on the discovery service described in the Open Mobile API Specification in which an application can look up or discover a secure element and an applet module. The application e.g. additional protocol stack may communicate with profile handler via access control layer using application protocol data units APDUs . For example APDUs of the ISO IEC 7816 standard may be used. According to an exemplary embodiment profile handler can provide access information for multiple subscription profiles to allow the multiple subscription profiles to be enabled or active at the same time. According to an exemplary embodiment subscription profiles e.g. profile profile are registered with profile handler to enable profile handler to provide the discovery service.

Secure container includes a secure domain or a secure memory space that stores profile . For example under an eUICC architecture of the GSMA standard profile may be stored in an Issuer Security Domain Profile ISD P . While the eUICC architecture of the GSMA standard does not provide for profile as described herein according to an exemplary implementation profile is stored in or a part of the operating system of secure element . For example profile may be stored as an element of a telecom framework e.g. an operating system service . According to another example profile may be stored as a new element of the operating system that is outside of or not a part of the telecom framework. According to another exemplary implementation profile is stored outside or not a part of the operating system of secure element . For example profile may be stored in an ISD P or in a new element that hosts profile .

According to an exemplary implementation profile may be a part of a master file MF or a dedicated file DF of a file system. For example the file system may be implemented based on eUICC Profile Package Interoperable Format Technical Specification e.g. version 1.0 25 Jun. 2015 of SIMalliance which is incorporated by reference in its entirety and or other standards e.g. ISO IEC 7816 etc. . According to another exemplary implementation profile may be a part of a file system that is proprietary in nature. Profile includes a subscription profile. Profile includes file .

In response to triggering event native protocol stack obtains profile data of profile via access control layer . According to an exemplary implementation native protocol stack may not use the discovery service of profile handler . For example native protocol stack may be configured with access information. For example profile may be a default profile that end device normally e.g. by default uses. According to another exemplary implementation native protocol stack obtains access data of profile via access control layer and profile handler illustrated as a dotted line . Thereafter in response to receiving access data native protocol stack obtains profile data . Referring to subsequent to obtaining the profile data of profile native protocol stack establishes a connection and registers the end device user with a network service. As illustrated profile is in an enabled state .

Referring to in response to triggering event additional protocol stack obtains access data of profile via access control layer and profile handler . According to an exemplary embodiment additional protocol stack may be configured such that its access rights to subscription profiles are limited to those stored in profile e.g. file . That is additional protocol stack may not access any profile stored on secure element . According to other exemplary embodiments additional protocol stack may not be configured in a manner that restricts access to profiles.

To obtain access data additional protocol stack may generate for example an APDU or other type of container directed to profile handler . According to an exemplary implementation the container includes criteria data pertaining to candidate profiles to be discovered. For example the criteria data may indicate a particular MNO a particular AID or other type of access information a particular network service and or some other type of configurable criterion or criteria. According to another exemplary implementation the container may not include criteria data pertaining to candidate profiles to be discovered. In either implementation additional protocol stack may transmit the container via a channel established to profile handler . In response to receiving the container profile handler queries profile illustrated as queries . According to an exemplary implementation when the container includes criteria data profile handler uses a matching algorithm to select a subscription profile that matches one or multiple criteria included in the container. As previously described file may include one or multiple subscription profiles and each subscription profile may be associated with metadata. Profile handler uses the matching algorithm to determine whether the one or multiple criteria match the metadata of the one or multiple subscription profiles. For purposes of description assume that at least one of the subscription profiles stored in file matches the criteria data e.g. partially or fully . Based on a result of the query profile handler provides access information e.g. access data of the subscription profile which included the matching metadata to additional protocol stack . As an aside in the event that no match exists additional protocol stack may modify its criteria or not include any criteria in another container and re request for access information to a subscription profile stored in profile file .

According to another exemplary implementation when the container does not include criteria data profile handler may provide access information associated with each subscription profile of profile that is not enabled e.g. access data to additional protocol stack . According to an exemplary implementation profile handler packages the access information for presentation to additional protocol stack based on a prefigured priority. For example index data may be used that represents an order of priority of the access information. For example 0 is reserved for the access information associated with a subscription profile used for a default service 1 is for the access information associated with a subscription profile for a secondary service 2 is for the access information associated with a subscription profile for a third service and so forth. The index data may be based simply on an order in which the subscription profiles are stored in list or some other criteria. In this case even if a default subscription profile is not yet enabled when access data is received by additional protocol stack additional protocol stack could use the index data as a basis for not selecting the access information of a default subscription profile used for the default service.

Referring to in response to obtaining access data additional protocol stack obtains profile data . According to an exemplary implementation when the container includes the criteria data additional protocol stack uses the access information to obtain profile data e.g. a subscription profile corresponding to the access information. According to another exemplary implementation when the container does not include the criteria data additional protocol stack uses access data to obtain profile data e.g. one or multiple subscription profiles . Additional protocol stack uses the metadata associated with each subscription profile and or the index data to select the subscription profile.

Subsequent to obtaining profile data additional protocol stack obtains configuration data . For example configuration data may indicate the network device with which to establish to establish a connection and other communication configurations as previously described. Additionally when there are multiple candidate subscription profiles to select from regardless of whether the container included criteria data or not additional protocol stack may use user preference data or other data stored in configuration as a basis to select one candidate subscription profile over another. For example the user preference may include context information e.g. location of user time of day etc. or configuration may store other types of information e.g. historical data including number of times subscription profile used length of time network service used by the user etc. which may not be stored as metadata associated with the subscription profile. By way of further example a subscription profile may be limited for selection by virtue of the user s current location e.g. United States versus overseas and so forth. Subsequent to obtaining configuration data additional protocol stack establishes a connection and registers the end device user with a network service. As illustrated a subscription profile of file is in an enabled state .

For the sake of description are directed to another exemplary embodiment in which additional protocol stack A may operate in the baseband modem layer. Additional protocol stack A may perform operations similar to those described in relation to additional protocol stack . For example referring to in response to triggering event additional protocol stack A obtains access data and obtains profile data based on the access data . Referring to additional protocol stack A obtains configuration data establishes a connection and registers the end device user with a network service.

Although illustrate exemplary processes of the multi active profiles based network service according to other embodiments additional operations fewer operations and or different operations than those illustrated in and described herein may be performed.

Referring to block process may begin with a triggering event being identified. For example the triggering event may be identified end device is powered on or when user opens up an end user application. The triggering event for the native or default stack may be different than for the additional stack. For example the triggering event for the default stack may be the boot up process and the triggering event for the additional stack may be a user preference. According to another example the triggering event for the native stack may be the opening of the end user application for the native stack and the triggering event for the additional stack may be the opening of the end user application and the user preference. Alternatively the triggering event may be the same for both the native stack and the additional stack.

In block a native stack is invoked in response to the identification of the triggering event. For example native protocol stack may be invoked in response to a detection of the triggering event. In block a default subscription profile is obtained from the secure element in response to the invocation. According to one example native protocol stack may obtain access information e.g. via profile handler . According to another example native protocol stack may be pre configured or have access to the access information e.g. stored in a file etc. without using the discovery service of profile handler . For either implementation based on the receipt of the access information native protocol stack uses the access information to obtain a default subscription profile e.g. profile .

In block the end device and or the user register s with a network service in response to the obtainment of the default subscription profile. For example native protocol establishes a connection with a network device and uses the default subscription profile e.g. credentials etc. to register end device and or user with the network service.

In block the default subscription profile is enabled. For example end device indicates that the default subscription profile is enabled.

In block an additional stack is invoked in response to the identification of the triggering event. As previously described in block elsewhere the triggering event may be the same or different from the triggering event for the native stack.

In block a discovery service is queried for access information to a list stored on the secure element in response to the invocation. For example additional protocol stack may generate and transmit an APDU or other type of container to profile handler via access control layer . The container may or may not include criteria data.

In block access information is obtained in response to the query. For example additional protocol stack obtains access information from profile handler via access control layer .

In block a subscription profile is selected in response to the obtainment of the access information. For example additional protocol stack selects a subscription profile that is stored in file . Additional protocol stack may use metadata to make the selection. Additional protocol stack may use other data e.g. index data user preference data etc. .

Referring to in block the subscription profile is obtained based on the selection. For example additional protocol stack uses the access information to obtain the subscription profile e.g. subscription profile of file .

In block the end device and or the user register s with a network service in response to the obtainment of the subscription profile. For example additional protocol stack establishes a connection with a network device and uses the subscription profile e.g. credentials etc. to register end device and or user with the network service.

In block the subscription profile is enabled. For example end device indicates that the subscription profile is enabled.

Although illustrate an exemplary process of the multi active profiles based network services according to other embodiments process may include additional operations fewer operations and or different operations than those illustrated in and described herein.

The foregoing description of embodiments provides illustration but is not intended to be exhaustive or to limit the embodiments to the precise form disclosed. Accordingly modifications to the embodiments described herein may be possible.

The terms a an and the are intended to be interpreted to include one or more items. Further the phrase based on is intended to be interpreted as based at least in part on unless explicitly stated otherwise. The term and or is intended to be interpreted to include any and all combinations of one or more of the associated items.

In addition while a series of blocks has been described with regard to the process illustrated in the order of the blocks may be modified according to other embodiments. Further non dependent blocks may be performed in parallel. Additionally other processes described in this description may be modified and or non dependent operations may be performed in parallel.

The embodiments described herein may be implemented in many different forms of software executed by hardware. For example a process or a function may be implemented as logic or as a component. The logic or the component may include for example hardware e.g. processor baseband processor etc. or a combination of hardware and software e.g. software etc. . The embodiments have been described without reference to the specific software code since the software code can be designed to implement the embodiments based on the description herein and commercially available software design environments and or languages.

In the preceding specification various embodiments have been described with reference to the accompanying drawings. However various modifications and changes may be made thereto and additional embodiments may be implemented without departing from the broader scope of the invention as set forth in the claims that follow. For example although an exemplary embodiment of end device includes that end device is a single radio device according to another exemplary embodiment end device may not be single radio device. The specification and drawings are accordingly to be regarded as illustrative rather than restrictive.

In the specification and illustrated by the drawings reference is made to an exemplary embodiment an embodiment embodiments etc. which may include a particular feature structure or characteristic in connection with an embodiment s . However the use of the phrase or term an embodiment embodiments etc. in various places in the specification does not necessarily refer to all embodiments described nor does it necessarily refer to the same embodiment nor are separate or alternative embodiments necessarily mutually exclusive of other embodiment s . The same applies to the term implementation implementations etc.

The word exemplary is used herein to mean serving as an example. Any embodiment or implementation described as exemplary is not necessarily to be construed as preferred or advantageous over other embodiments or implementations.

Additionally embodiments described herein may be implemented as a non transitory storage medium that stores data and or information such as instructions program code data structures program modules an application etc. The program code instructions application etc. is readable and executable by a processor e.g. processor baseband processor etc. of a computational device. A non transitory storage medium includes one or more of the storage mediums described in relation to memory storage .

Use of ordinal terms such as first second third etc. in the claims to modify a claim element does not by itself connote any priority precedence or order of one claim element over another the temporal order in which acts of a method are performed the temporal order in which instructions executed by a device are performed etc. but are used merely as labels to distinguish one claim element having a certain name from another element having a same name but for use of the ordinal term to distinguish the claim elements.

Any reference to a particular standard specification etc. in this description is meant to serve as an example. According to the embodiments described herein components architectures and so forth may be implemented based on a standard and or a technical specification a modification thereof a proprietary framework or platform etc.

No element act or instruction described in the present application should be construed as critical or essential to the embodiments described herein unless explicitly described as such.

