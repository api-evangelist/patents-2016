---

title: Dynamic network device processing using external components
abstract: A network device may receive information regarding a service set identifying service to apply to a data flow received via a particular interface of the network device; receive the data flow via the particular interface; identify a service to provide to the data flow based on the information regarding the service set; identify a processing device to process the data flow; and provide the data flow to the processing device. The processing device may be different than the network device and may process the data flow, on behalf of the network device, to form a processed data flow. The processed data flow may include the data flow with the service applied to the data flow. The network device may further receive the processed data flow from the processing device and transmit the processed data flow toward a destination device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09596318&OS=09596318&RS=09596318
owner: Juniper Networks, Inc.
number: 09596318
owner_city: Sunnyvale
owner_country: US
publication_date: 20160203
---
This application is a continuation of U.S. patent application Ser. No. 14 617 384 filed Feb. 9 2015 now U.S. Pat. No. 9 258 384 which is a continuation of U.S. patent application Ser. No. 13 740 781 filed Jan. 14 2013 now U.S. Pat. No. 8 954 535 which claims priority under 35 U.S.C. 119 based on U.S. Provisional Patent Application No. 61 747 930 filed Dec. 31 2012 the disclosures of which are incorporated by reference herein in their entireties.

Network devices such as routers are sometimes used to process route and provide services to data flows between user devices and server devices. Network devices sometimes include a wide area network WAN interface card WIC . The WIC may include processing instructions routing tables or some other information that provide the network device with instructions for processing data flows. Modifying the functionality and or operations of network devices e.g. modifying the processing instructions etc. may require replacement of WAN cards and or specialized software development.

According to one example implementation a method may include receiving by a network device information regarding a service set. The service set may identify a service to apply to a data flow received via a particular interface of the network device. The method may further include receiving by the network device the data flow via the particular interface identifying by the network device a service to apply to the data flow based on the information regarding the service set and identifying by the network device a processing device to process the data flow. The processing device may be different than the network device. The method may further include providing by the network device the data flow to the processing device. The processing device may process the data flow on behalf of the network device to form a processed data flow. The processed data flow may include the data flow with the service applied to the data flow. The method may further include receiving by the network device the processed data flow from the processing device and transmitting by the network device the processed data flow to a destination device.

According to another example implementation a network device may receive information regarding a service set. The service set may include an identifier to identify a service to apply to a data flow received via a particular interface of the network device. The network device may further receive the data flow via the particular interface identify a service to apply to the data flow based on the information regarding the service set add metadata that may include the identifier to the data flow and identify a processing device to process the data flow. The processing device may be different than the network device. The network device may further provide the data flow to the processing device. The processing device may identify the service based on the identifier included in the metadata and processing the data flow on behalf of the network device to form a processed data flow. The processed data flow may include the data flow with the service applied to the data flow. The network device may further receive the processed data flow from the processing device and transmit the processed data flow to a destination device.

According to another example implementation a computer readable medium for storing instructions may include instructions having multiple instructions which when executed by one or more processors associated with a network device cause the one or more processors to receive information regarding a service set identifying a service to apply to a data flow received via a particular interface of the network device receive the data flow via the particular interface identify a service to provide to the data flow based on the information regarding the service set and identify a virtual machine of multiple virtual machines to process the data flow. The virtual machine may be different than the network device. The multiple instructions may further cause the one or more processors to provide the data flow to the virtual machine. The virtual machine may identify the service based on the service set identifier and may process the data flow on behalf of the network device and in to form a processed data flow. The processed data flow may include the data flow with the service applied to the data flow. The multiple instructions may further cause the one or more processors to receive the processed data flow from the virtual machine and provide the processed data flow to a destination device.

The following detailed description refers to the accompanying drawings. The same reference numbers in different drawings may identify the same or similar elements.

Systems and or methods as described herein may permit processes applications and or services of a network device e.g. a router a switch a gateway or some other network device to occur outside of the network device. For example a virtual machine may execute applications that modify a control plane of the network device e.g. modify routing tables of the network device install firewall filters on the network device etc. . Additionally or alternatively the virtual machine may process a data flow on behalf of the network device to allow the network device to provide a service to the data flow e.g. a firewall service a network address translation NAT service a wide area network WAN optimization service a hypertext transfer protocol HTTP header rewriting service a compression service a load balancing service or some other type of service . In some implementations a client device may provide to a virtual machine and a network device a service set or an application to direct the virtual machine to modify the control plane of the network device. In some implementations the service set may instruct the network device to provide a particular service to a particular data flow and to steer the particular data flow to a particular virtual machine such that the particular data flow may receive the service. In some implementations service set may instruct the virtual machine to apply the particular service to the particular data flow. As a result the functionality and or operations of the network device may be modified without the need to modify the network device itself.

In some implementations the network device may identify a service to provide to a data flow and a virtual machine with which to communicate in order to process the data flow to provide the service based on information associated with a service set. A service set may include information that identifies an interface of the network device a service to provide to data flows received via the interface and a virtual machine to communicate with in order to process the data flow and provide the service to the data flow.

As described above the virtual machines may execute an application to modify a control plane of the network device. For example the virtual machines may modify the control plane of the network device to direct the network device to route particular data flows in a particular manner e.g. route some data flows to particular virtual machines for processing block some other data flows etc. .

Because virtual machines may be used to process data flows on behalf of a network device or to modify the control plane of the network device the network device may be capable of providing any number of services to any number of data flows by communicating with the virtual machines over a common infrastructure. Further the virtual machines may be stored by servers located in various geographic locations.

While the systems and or methods are described in terms of a network device communicating with virtual machines in practice the network device may communicate with physical servers WAN cards containers e.g. Linux containers or some other device for processor support and or for network device control plane modification.

User device may include a device capable of communicating via a network such as network . For example user device may correspond to a mobile communication device e.g. a smart phone or a personal digital assistant PDA a portable computer device e.g. a laptop or a tablet computer a gaming device a desktop computer a server or some other type of computing device.

Client device may include a computing device or a collection of computing devices. In some implementations client device may be used to develop a service set that directs network device to communicate with a virtual machine stored by virtual machine server e.g. for processing support to allow network device to provide a service to a data flow . Additionally or alternatively client device may be used to develop an application which virtual machine server may execute to modify a control plane of network device . In some implementations client device may provide to network device or centralized server a service set or an application.

Network device may include a network routing device or a collection of network routing devices. In some implementations network device may include a router a switch a gateway an access point or some other type of network device. In some implementations network device may receive data flows and may process data flows in accordance with parameters specified in a service set. In some implementations network device may include a physical routing device and or a virtual routing device e.g. a virtual image stored by a server to function as a physical routing device .

Virtual machine server may include a computing device such as a server device or a collection of service devices. In some implementations virtual machine server may implement a virtual machine that may provide a service to a data flow by functioning as a processing device to provide processing support to network device e.g. to allow network device to provide a service to a data flow in accordance with a service set . Additionally or alternatively virtual machine server may implement a virtual machine that may execute an application to modify a control plane of network device . In some implementations environment may include multiple virtual machine servers which may be provided as part of a data center. For example the data center may connect multiple virtual machine servers such that services provided by the multiple virtual machine servers may be pooled together and such that the services provided by the multiple virtual machine servers may be readily accessible by network device . In some implementations each virtual machine server may implement multiple virtual machines from which network device may select in order to provide a service to a data flow.

In some implementations virtual machine server may provide an active service and or a passive service to a data flow. For example in an active service virtual machine server may modify drop or insert packets in the data flow. In a passive service for example virtual machine server may monitor the data flow and may not forward the data flow. In some implementations a passive service may operate on a copy or a sample of the data flow.

In some implementations a particular virtual machine implemented by virtual machine server may opt out of providing a particular service for a particular session or a particular portion of a session. For example assume that virtual machine server provides an HTTP service to an HTTP message and that virtual machine server may provide the service to the HTTP message based on a header of an HTTP message. Further assume that the header of the HTTP message is received by virtual machine server via a first portion of a session and that a body of the HTTP message is received by virtual machine server via a second portion of the session. Given these assumptions virtual machine server may opt out of providing the HTTP service for the second portion of the session since virtual machine server may provide the HTTP service to the HTTP message based on the header of the HTTP message and may not be in need of the body of the HTTP message. In some implementations service opt out may result in a performance improvement by reducing the number of sessions or portions of a session in which a service is provided.

In some implementations virtual machine server may identify additional services to apply to different data flows on a per flow basis. For example virtual machine server may perform a deep packet inspection service to a data flow may identify a type of session associated with the data flow e.g. a video type session and may identify an additional service to apply to the data flow based on the type of session. For a video type session for example virtual machine server may provide a caching service whereas for another type of session in another data flow virtual machine server may provide some other service e.g. an intrusion detection service or some other service . As a result different data flows may be directed to different virtual machines implemented by virtual machine server .

Centralized server may include a computing device such as a server device or a collection of service devices. In some implementations centralized server may store service sets and or applications provided by client device . Centralized server may provision network device to direct network device to provide a service to a data flow e.g. based on information associated with a service set . Alternatively network device may receive a service set from centralized server or client device and may identify a service to provide to a data flow based on the service set. In some implementations centralized server may generate virtual machines implemented by virtual machine server s based on information in a service set. Centralized server may also function as a directory server to broadcast information regarding virtual machines which network device may discover.

Network may include one or more wired and or wireless networks. For example network may include a cellular network a public land mobile network PLMN a second generation 2G network a third generation 3G network a fourth generation 4G network a fifth generation 5G network and or another network. Additionally or alternatively network may include a local area network LAN a wide area network WAN a metropolitan network MAN a telephone network e.g. the Public Switched Telephone Network PSTN an ad hoc network a managed IP network a virtual private network VPN an intranet the Internet and or a combination of these or other types of networks.

The quantity of devices and or networks illustrated in is not limited to what is shown. In practice there may be additional devices and or networks fewer devices and or networks different devices and or networks or differently arranged devices and or networks than illustrated in . Also in some implementations one or more of the devices of environment may perform one or more functions described as being performed by another one or more of the devices of environment . Devices of environment may interconnect via wired connections wireless connections or a combination of wired and wireless connections.

Routing component may include a routing processor or a collection of routing processors. In some implementations routing component may perform a high level management function for network device . For example routing component may communicate with networks and or systems connected to network device to exchange information regarding network topology. In some implementations routing component may generate routing tables based on network topology information may generate forwarding tables based on the routing tables and may send the forwarding tables to I O components . In some implementations routing component may perform other general control and monitoring functions for network device .

I O component may include an interface device or a collection of interface devices. In some implementations I O component may connect to routing component and switch . In some implementations I O component may receive packets on physical links connected to a network. Each physical link could be one of many types of transport media such as optical fiber or Ethernet cable. The packets on the physical link may be formatted according to one of several protocols such as the synchronous optical network SONET standard or Ethernet. In some implementations I O component may use forwarding tables to perform route lookup for incoming data flows.

Switch may include one or more switching planes to facilitate communication between two or more of I O components . In some implementations switch may include a single or multi stage switch fabric.

As shown in device may include a bus a processor a main memory a read only memory ROM a storage device an input device an output device and a communication interface . In some implementations device may include additional components fewer components different components or differently arranged components.

Bus may include a path that permits communication among the components of device . Processor may include a processor a microprocessor an application specific integrated circuit ASIC a field programmable gate array FPGA or another type of processor that interprets and executes instructions. Main memory may include a random access memory RAM or another type of dynamic storage device that stores information or instructions for execution by processor . ROM may include a ROM device or another type of static storage device that stores static information or instructions for use by processor . Storage device may include a magnetic storage medium such as a hard disk drive or a removable memory such as a flash memory.

Input device may include a component that permits an operator to input information to device such as a control button a keyboard a keypad or another type of input device. Output device may include a component that outputs information to the operator such as a light emitting diode LED a display or another type of output device. Communication interface may include any transceiver like mechanism that enables device to communicate with other devices or networks. In one implementation communication interface may include a wireless interface a wired interface or a combination of a wireless interface and a wired interface.

Device may perform certain operations as described in detail below. Device may perform these operations in response to processor executing software instructions contained in a computer readable medium such as main memory . A computer readable medium may be defined as a non transitory memory device. A memory device may include memory space within a single physical storage device or memory space spread across multiple physical storage devices.

The software instructions may be read into main memory from another computer readable medium such as storage device or from another device via communication interface . The software instructions contained in main memory may direct processor to perform processes that will be described later. Alternatively hardwired circuitry may be used in place of or in combination with software instructions to implement processes described herein. Thus implementations described herein are not limited to any specific combination of hardware circuitry and software.

As shown in data structure may include interface information field service set ID field service parameters field and virtual machine information field .

Interface information field may identify information associated with an interface of network device . For example interface information field may identify an interface identifier ID a filter and a data flow direction e.g. an inbound or outbound direction . In some implementations the interface ID field may store a string of characters to identify an interface of network device e.g. an Ethernet interface a frame relay interface a serial interface a SONET interface or some other type of interface . Additionally or alternatively the interface ID may correspond to a port identifier or some other identifier that identifies the interface of network device via which network device may receive a data flow.

In some implementations a particular interface may be associated with a particular group of user devices e.g. a group of user devices subscribed to a service with a network service provider . That is network device may receive via a first interface a data flow from a user device that is part of a first group of user devices . Similarly network device may receive via a second interface a data flow from another user device that is part of a second group of user devices . As described above a service set may identify services to provide to data flows based on data received via a particular interface of network device . Thus network device may provide a first service to data flows received from a first group of user devices and a second service to data flows received from a second group of user devices .

In some implementations network device may determine a service to provide to a data flow that is received via a particular interface and that satisfies a particular filter. Network device may also determine particular service parameters to provide to the data flow e.g. particular rules for a firewall service particular address pools for a NAT service etc. . Further network device may determine a service set to provide to a data flow based on the direction of the data flow e.g. inbound or outbound directions . The inbound outbound field may store information that identifies the direction of a data flow associated with a particular service set. For example network device may identify a service to provide to the data flow depending on whether the data flow is an inbound data flow or an outbound data flow. In some implementations the inbound direction may relate to a data flow that is to be received by network device . The outbound direction may relate to a data flow that is to be sent by network device .

The filter field may identify a filter criteria for a data flow received via a particular interface e.g. as identified by the interface ID . In some implementations a network device may use a filter to select a particular data flow by inspecting contents of packets associated with the data flow. In some implementations the filter may direct network device to select a data flow based on information stored by the filter field. For example the filter field may identify an internet protocol IP address a hardware ID a customer ID or some other identifier associated with a data flow.

As an example assume that the filter field stores two IP addresses such as 172.25.14.4 and 174.23.6.52. Further assume that network device receives two data flows via an interface corresponding to the interface ID of 4896. Further assume that the two data flows received by network device are associated with the IP addresses 172.25.14.4 and 555.23.6.52 respectively. Network device may provide a service to the data flow associated with the IP address 172.25.14.4 and may not provide the service to the data flow associated with the IP address 555.23.6.52. In some implementations the filter field may store a white list e.g. a list of IP addresses or some other identifier associated with a data flow to identify data flows to which network device may provide a service or a black list e.g. a list of IP addresses or some other identifier associated with a data flow to identify data flows to which network device may not provide a service .

In some implementations the filter may be stateless. For example the filter may direct network device to select a data flow based on individual packets associated with the data flow. Alternatively the filter may be stateful. For example the filter may direct network device to select a data flow based on previously received packets.

Service set ID field may store a string of characters to uniquely identify a service set associated with a particular interface a particular filter and a particular data flow direction. As shown in the service set having the service set ID 123 may be associated with the data flows received via interface ID 5844 in the inbound direction. Thus network device may identify service set ID 123 when processing data flows received via interface ID 5844 in the inbound direction. In some implementations service set ID may be generated when a new service set is received by network device or centralized server . In some implementations e.g. when the service set ID is a number the generated service set ID may be the next number after the most recently used service set ID.

As another example assume that the service set having the service set ID 584 is associated with the data flows received via interface ID 4896 in the inbound or outbound direction. Further assume that a filter e.g. a white list or black list of IP addresses is associated with the service set ID 584. Thus network device may identify service set ID 584 when processing data flows received via interface ID 4896 in the inbound direction or outbound direction and satisfying the filter.

Service parameters field may store information identifying a set of rules instructions processes functions or some other information associated with a particular service set. In some implementations information stored by service parameters field may correspond to a service to provide to a data flow. For example as shown in service parameters field may store information that directs network device to provide a firewall service to data flows associated with service set ID 123 e.g. data flows received via interface ID 5844 in the inbound direction . Further service parameters field may store particular parameters associated with the service such as particular routing operations a list of IP addresses a list of NAT rules or some other parameters associated with the service. In some implementations service parameters field may store multiple service parameters for a single service set.

Virtual machine information field may store information to identify a particular virtual machine with which network device may communicate in order to provide a service to a data flow. For example virtual machine information field may store a virtual machine ID VM ID a server ID e.g. an identifier associated with a particular virtual machine server an IP address of the virtual machine and or of virtual machine server and or some other information identifying a virtual machine. In some implementations virtual machine information field may not store information for a particular virtual machine and may store information such as Auto select to direct network device to perform an auto select function to identify an available virtual machine to communicate with.

While particular fields are shown in a particular format in data structure in practice data structure may include additional fields fewer fields different fields or differently arranged fields than are shown in .

As shown in process may include receiving a service set block . In one implementation network device may receive a service set from client device e.g. via a user interface of network device . For example client device may be used to develop a service set and install the service set on network device . In another implementation centralized server may receive the service set from client device . In this case centralized server may provide the service set to network device . For example centralized server may install the service set on network device based on a priority policy installed on network device by client device .

Process may also include creating a virtual machine block . In one implementation network device may use a signaling protocol and or a control plane protocol to instruct virtual machine server to create the virtual machine in accordance with information associated with the service set. For example network device may identify a particular virtual machine server and may instruct the identified virtual machine server to create a virtual machine having a particular IP address a particular identifier a particular configuration and or having some other parameter. In some implementations virtual machine server may provide an indication to network device that the virtual machine has been created. In another implementation centralized server may create the virtual machine e.g. in a similar manner as described above . In this case centralized server may broadcast an indication that a virtual machine has been created such that network device may discover the newly created virtual machine.

Process may also include creating a tunnel with the virtual machine block . For example network device may use a control plane protocol to create a tunnel between network device and the virtual machine. In some implementations the tunnel may permit network device to provide the virtual machine with a data flow for processing in a manner that prevents the data flow from being routed to an original destination of the processed data flow or an unintended location. Further the tunnel may facilitate the transmission of the data flow when an intermediate router or switch may not identify the virtual machine. In some implementations network device may automatically create the tunnel when network device creates the virtual machine or when network device discovers the virtual machine. As a result a tunnel may be automatically established when the virtual machine is created such that the tunnel may be readily available to transfer a data flow to the virtual machine.

Process may further include receiving a data flow via a particular interface block . For example network device may receive a data flow from user device via a particular interface e.g. an Ethernet interface a logic relay interface a particular port of network device etc. . As described above the particular interface may be associated with a particular group of user devices e.g. a group of user devices subscribed to a service with a network service provider .

Process may also include identifying a service to provide to data flow block . For example network device may identify a service to provide to the data flow based on information such as information stored by data structure . In some implementations network device may receive a data flow via a particular interface and may apply filters to the data flow to determine the service to provide to the data flow e.g. as described above with respect to . In some implementations network device may determine a processing demand associated with the identified service.

Process may further include identifying a service processing location block . For example network device may identify a service processing location e.g. a particular virtual machine implemented by a particular virtual machine server based on information such as information stored by data structure . As described above the service processing location may be identified based on a virtual machine ID a server ID an IP address or some other identifier. Alternatively network device may initiate an auto selection function to automatically identify a service processing location. For example network device may identify virtual machines that provide the identified service and may select one of these virtual machines that has processing capacity e.g. the least loaded virtual machine to satisfy the processing demand associated with the identified service. In some implementations network device may instruct virtual machine server to generate a virtual machine in a situation where a virtual machine having sufficient processing capacity is not available.

Alternatively centralized server may identify a service processing location and provide to network device information identifying the service processing location. For example centralized server may identify virtual machines that provide the identified service and have processing capacity to satisfy the processing demand associated with the identified service. In some implementations centralized server may instruct virtual machine server to generate a virtual machine in a situation where a virtual machine having sufficient processing capacity is not available.

Process may also include encapsulating the data flow and adding metadata block . For example network device may add a service set ID e.g. metadata to the data flow based on information such as information stored by data structure . In some implementations network device may append the metadata such that the identified virtual machine may identify the service ID and corresponding service parameters associated with the service ID.

In some implementations the metadata may include contextual information such as an ID of an interface via which the data flow was received an ID of a routing instance in which a data flow was a received a subscriber or session ID associated with the data flow or some other contextual information. Additionally or alternatively the metadata may include a scratch pad to identify information to allow a particular virtual machine to communicate information to another virtual machine. Additionally or alternatively the metadata may include information to allow the network device to reinsert a packet associated with the data flow into a forwarding pipeline when the packet is processed by a virtual machine and received by network device . In some example implementations the metadata may be 8 16 or 32 bytes in size or may be some other size.

In some implementations network device may encapsulate the data flow in a tunnel packet corresponding to the tunnel associated with the virtual machine server corresponding to the service location. In some implementations the tunnel packet may facilitate transmission of the data flow via the particular tunnel associated with the virtual machine server .

Process may also include providing the data flow to the service processing location block . For example network device may provide the data flow to the virtual machine server identified in block . In some implementations network device may provide the data flow via the tunnel using the tunnel packet. For example the tunnel packet may include information to identify an IP address of the virtual machine server . Network device may look up the IP address in a routing table stored by network device to identify an outbound interface via which to transmit the data flow e.g. an interface associated with the tunnel . In some implementations network device may provide to virtual machine server instructions corresponding to the service ID e.g. instructions that direct virtual machine server how to process the data flow on behalf of network device . In some implementations network device may provide the instructions using a service set signaling protocol or some other type of protocol. As an example assume that the network device determines a service set ID of 123 associated with the data flow and that the service set ID 123 includes service parameters relating to a list of firewall rules. Given these assumptions virtual machine server may process the data flow on behalf of network device to form a processed data flow e.g. data flow with a service applied to the data flow having the list of firewall rules applied to the data flow.

Process may further include receiving processed data flow from the service processing location and outputting towards a destination block . For example network device may receive the processed data flow from virtual machine server and may output the processed data flow towards a destination device e.g. a particular user device or a service device . As a result network device may provide a service to a received data flow by identifying a service associated with the data flow e.g. based on an interface via which the data flow is received data flow direction and or one or more filters applied to the data flow identifying a service location e.g. a particular virtual machine server implementing a particular virtual machine appending a service ID to the data flow and communicating with virtual machine server to allow virtual machine server to process the data flow and apply the service in accordance with service parameters corresponding to the service ID.

While a particular series of blocks has been described above with regard to the operations data flows and or the order of the blocks may be modified in other implementations. Further non dependent operations and or data flows may be performed in parallel.

As described above network device may identify a service location e.g. a virtual machine to send the data flow for processing. For example network device may perform an auto selection function to identify a virtual machine that provides the identified services and has processing capacity to process the identified services. Alternatively network device may identify a virtual machine based on virtual machine ID information included in the service set. In assume that network device identifies virtual machine as the service location e.g. by auto selection or by virtual machine ID information included in the service set . Given this assumption network device may encapsulate the data flows in a tunnel append metadata to the data flows e.g. to identify a service set ID and provide the data flows e.g. via the tunnel to virtual machine for processing. In some implementations virtual machine may process the data flow on behalf of network device in accordance with service set parameters corresponding to the service set ID. As described above and as shown in network device may receive processed data flows and provide the processed data flows to respective user devices .

In some implementations e.g. when a processed data flow is received by network device from a virtual machine the processed data flow can be injected into a different routing instance e.g. virtual routing and forwarding VRF or context or zone than the routing instance in which the traffic flow was originally received by networking device . As a result data flows may be processed when the virtual machine modifies a destination IP address of packets in the data flow e.g. NAT .

In some implementations the service location e.g. virtual machine may provide the processed data flow to a different network device from the network device that the service location received the data flow. Referring to assume that a first network device e.g. network device receives a data flow from UD destined for UD . Further assume that network device identifies virtual machine as the service location. As shown in virtual machine may process the data flow and provide the processed data flow to a second network device e.g. network device . As shown in network device may provide the processed data flow to a destination device e.g. UD . In some implementations the service location may identify where to send the processed data flow based on network devices having capacity to provide the processed data flow to the destination device based on network devices that service the destination device and or based on some other factor.

Some example applications may allow a virtual machine to install routes in a routing table of network device install firewall filters policies on network device and associate the firewall filters policies to interfaces on network device retrieve a configuration from network device and or execute operational commands stored by network device or allow the virtual machine to perform some other function or modify the control plane of network device in some other manner. In some implementations a Mobility Management Entity MME associated with a cellular network may use a firewall application programming interface API to steer particular flows of MME control traffic to a particular virtual machine where a control plane modification application is located.

Because virtual machine server may be used to process data flows on behalf of network device or to modify the control plane of network device network device may be capable of providing any number of services to any number of data flows by communicating with one or more virtual machines implemented by one or more virtual machine servers over a common infrastructure. Further the virtual machines may be implemented by servers located in various geographic locations. As described above virtual machine servers may be provided as part of a data center such that services provided by virtual machine servers may be readily accessible by network device .

The foregoing description provides illustration and description but is not intended to be exhaustive or to limit the possible implementations to the precise form disclosed. Modifications and variations are possible in light of the above disclosure or may be acquired from practice of the implementations.

It will be apparent that different examples of the description provided above may be implemented in many different forms of software firmware and hardware in the implementations illustrated in the figures. The actual software code or specialized control hardware used to implement these examples is not limiting of the implementations. Thus the operation and behavior of these examples were described without reference to the specific software code it being understood that software and control hardware can be designed to implement these examples based on the description herein.

Even though particular combinations of features are recited in the claims and or disclosed in the specification these combinations are not intended to limit the disclosure of the possible implementations. In fact many of these features may be combined in ways not specifically recited in the claims and or disclosed in the specification. Although each dependent claim listed below may directly depend on only one other claim the disclosure of the possible implementations includes each dependent claim in combination with every other claim in the claim set.

No element act or instruction used in the present application should be construed as critical or essential unless explicitly described as such. Also as used herein the article a is intended to include one or more items and may be used interchangeably with one or more. Where only one item is intended the term one or similar language is used. Further the phrase based on is intended to mean based at least in part on unless explicitly stated otherwise.

