---

title: Mobile device security
abstract: Techniques for providing friction-free transactions using geolocation and user identifiers are described herein. These techniques may ascertain a user's location based on a location of a mobile device. A transaction between the user and a merchant may be completed with zero or minimal input from the user based on the geolocation of the mobile device and the user identifiers. In some implementations, a transaction initiated earlier is completed when the mobile device arrives at the merchant. Additionally, a parent-child or similar relationship may be established between multiple devices. Security on the mobile device based may be provided by biometric identification and calculation of variance from regular movement patterns. Advertisements may be sent to the mobile device based on bids from merchants near to the mobile device. Promotions may be sent to the mobile device when more than a threshold number of mobile devices are located at the same merchant.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09609577&OS=09609577&RS=09609577
owner: Amazon Technologies, Inc.
number: 09609577
owner_city: Reno
owner_country: US
publication_date: 20160623
---
This application is a continuation of U.S. patent application Ser. No. 14 821 337 entitled Mobile Device Security filed on Aug. 7 2015 and issued to U.S. Pat. No. 9 386 507 on Jul. 5 2016 which is a continuation of U.S. patent application Ser. No. 13 973 870 entitled Mobile Device Security filed on Aug. 22 2013 and issued to U.S. Pat. No. 9 107 064 on Aug. 11 2015 which is a continuation of U.S. patent application Ser. No. 12 820 816 entitled Mobile Device Security filed on Jun. 22 2010 and issued to U.S. Pat. No. 8 521 131 on Aug. 27 2013 which claims the benefit of U.S. Provisional Application No. 61 351 743 filed on Jun. 4 2010 and 61 316 527 filed on Mar. 23 2010 the contents of all of which are herein incorporated by reference in their entireties.

The widespread use of mobile phones and the increasing sophistication of smart phones have created societies in which personal mobile computing power has become nearly ubiquitous. Content for mobile computing devices has typically flowed from technology initially used with desktop computers. Some aspects of mobile computing devices such as a small form factor with limited display capabilities and a lack of full size keyboards hinder adoption of content originally designed for desktop computers. Other aspects such as the mobility itself provide unique opportunities to use mobile computing devices in ways very different than the ways people use desktop computers. Development of content that recognizes the limitations while taking full advantage of the unique aspects of mobile computing devices is still an active and maturing field.

Consumers are also becoming increasingly comfortable with virtual interactions such as online shopping. However in spite of the relative convenience of the virtual world as opposed to the brick and mortar world friction and security concerns still limit adoption of virtual interactions. For example remembering passwords and maintaining multiple accounts create friction in virtual world interactions. Additionally the anonymity and lack of direct interaction between the consumer and the merchant create potential security problems. Accordingly content designed specifically for mobile computing devices that eliminates the friction of transactions and addresses securities concerns will have great value for consumers.

Many activities are defined in whole or part by the location at which those activities occur. In some instances the activity can be inferred with a high likelihood of accuracy based on the location alone. For example a car at a tollbooth is likely there to pay the toll and pass through a person waiting by a boarding gate for an airplane is likely a ticket holder for the flight a person with a reservation at a hotel is likely going to check in to the hotel when he or she arrives in the lobby. At some locations many types of activities may be probable but there are certain activities that will only happen at those locations. For example many things may happen at the entry to a house but arming or disarming a home security system will only be done at that location. A mobile computing device that is location aware and can predict or infer what a user may be doing at that location will be able to automate some activities and provide a high level of user convenience.

This disclosure is directed to in part facilitating transactions based on geolocation and unique user identification. For instance these transactions may include electronic commerce transactions or any other type of transaction. Innovations in electronic commerce such as a one click shopping cart have made the Internet shopping experience smoother and have reduced friction perceived by the user. For instance clicking a single button to complete a purchase requires fewer steps than entering a password address credit card number and such. The reduction of steps clicks and the like reduces the friction in a transaction. Commerce in the brick and mortar world causes the consumer even more friction than transactions in the electronic commerce world in some instances. For example describing the item one wishes to purchase presenting payment to a cashier waiting for the cashier to process the payment and eventually receiving the desired item is an example of a typical and relatively high friction brick and mortar transaction.

Access to the World Wide Web from mobile devices provides a platform for electronic commerce similar to Internet shopping from a desktop computer. Mobile computing devices such as mobile phones are often carried with users throughout their daily interactions in the brick and mortar world. Many of these mobile computing devices are equipped with Global Positioning System GPS functionality to determine a location of the device and thus a location of the corresponding user. This disclosure combines the location awareness of mobile devices with the relatively lower friction transactions of electronic commerce to create a friction free or in some instances a zero click solution for interactions between consumers and merchants in the brick and mortar world. Unique user identification provides a thread that ties together information about a particular user e.g. credit card data a link between that user and a given mobile computing device and the relationship that user wishes to have with a given merchant e.g. opt in to zero click purchasing .

A merchant may include any human or legal person such as but not limited to sellers of goods or services that engages in transactions with customers. For example a government may be a merchant in the context of providing government services privileges and or rights.

The described techniques for low friction or friction free transactions may be implemented in a number of ways and in a number of contexts. Example implementations and context are provided with reference to the following figures as described below in more detail. It is to be appreciated however that the following implementations and contexts illustrative of many possible implementations and contexts

The mobile device may be implemented as any number of mobile devices including but not limited to a mobile phone a personal digital assistant PDA a laptop computer a net book an eBook reader a personal media player PMP a portable gaming system an automobile navigation system and so forth. The device is location aware or is able to provide information to another entity e.g. a server to allow the other entity to determine a location of the device . A location on the surface of the earth or a geolocation may be provided to the device by a satellite such as a GPS satellite. Alternatively wireless signals such as from a radio antenna may be used to determine a geolocation of the device relative to a known position of the radio antenna . Other technologies and methods for determining geolocation are also envisioned within the scope of this disclosure such as for example calculating geolocation based on a network access point e.g. WiFi hotspot or from a locator signal broadcast from a known location such as at the merchant .

The device and the merchant may connect to a network . The network may include any one or combination of multiple different types of networks such as cable networks local area networks personal area networks wide area networks the Internet wireless networks ad hoc networks mesh networks and or the like. In some implementations the satellite and or the radio antenna may provide network connectivity to the mobile device as well as provide geolocation. For example the radio antenna may provide network access to the mobile device according to the International Mobile Telecommunications 2000 standards 3G network or the International Mobile Telecommunications Advanced standards 4G network . Other implementations may include one source of geolocation data such as the satellite and a separate source of network connectivity such as a WiFi hotspot. The merchant may connect to the network through the merchant server using any suitable mechanism such as a wired or wireless connection.

A one or more servers may also be connected to the network and configured to manage interaction between the mobile device and the merchant . In some implementations all or part of the interaction between the mobile device and the merchant may be through a direct communications link without passing through the server or the network . The direct communication link may be implemented by radio transmissions e.g. IEEE 802.11 Bluetooth infrared signals radio frequency identification RFID magnetism e.g. magnetic strips such as used on credit cards display of a code on the device to a human operator or to a scanning device at the merchant and or any other method of directly passing information between the mobile device and the merchant .

The server s may house or otherwise have a connection to multiple data stores including user information merchant profiles an advertisement ad database and or other data stores. Generally the user information contains information about the user associated with the mobile device . The user information enables efficient and personalized interaction between the user and the merchant . The merchant profiles generally contain information about one or more merchants including the merchant with which the user is interacting. One type of interaction between the merchant and the user is advertising provided from the merchant to the device . Information for generating relevant advertisements may be contained in the advertisement database . Each of the data stores will be discussed in greater detail below.

The server s may also comprise an authentication module that compares login information from the mobile device and or the merchant to confirm that the correct user information merchant profiles advertisement database and other information is correctly correlated with the right entity e.g. user and or point of sale device . The authentication module will be discussed in greater detail below.

The device may also contain user information stored locally in the memory . This information may be configurable by the user and can include payment information a home location and or map of the device s past movements past transaction histories and or any other information related to the user .

The transaction module may recognize when the mobile device is located at a merchant location and in response may facilitate a transaction with the merchant . The transaction may be based in part on the user information . The transaction module may be configured with appropriate application programming interfaces APIs to establish a standard communication protocol for receiving information from the merchant e.g. merchant name and requested payment and providing corresponding information about the user e.g. payment information and user identification . In some implementations the transaction module is a software application that a user may install on his or her device such as by downloading from a website. In other implementations the transaction module may be preinstalled by a manufacturer or retailer of the mobile device and or built into the mobile device as a type of firmware or hardware. The transaction module coordinates the user identification user information geolocation and the like to facilitate transactions between the user and the merchant .

Given the ability of the mobile device to serve as a platform for zero click purchases there is a need to provide security in order to prevent unauthorized charges. The security module addresses this need by limiting functionality of the mobile device and initiating security events in appropriate circumstances. The security module may process login information such as passwords and or biometric information to authenticate the user and prevent other people from using the mobile device . The security module may also analyze behavior such as purchasing patterns and or movement patterns and infer that irregular behavior may indicate fraudulent or unauthorized activity and limit device functionality accordingly as described below in greater detail.

Mobile device also includes one or more input and output devices . The output devices may comprise one or more display devices including touch screen displays that also function as an input device. An accelerometer detects rotation or vibration of the mobile device . The accelerometer may be a convenient mechanism for the user to communicate an input to the mobile device by slapping shaking twisting and or by making a motion that can be detected by the accelerometer . The mobile device may also include a camera capable of taking still or video pictures. An antenna in the mobile device may send and receive wireless signals from sources such as the radio antenna and satellite . The device may further comprise other input output devices such as a microphone and a speaker used for example in an implementation in which the mobile device functions as a telephone.

In some implementations the mobile device may also include a calendar clock a location sensor and a network interface . The calendar clock may calculate time date and other data that can be derived from time data and date data. In some implementations the calendar clock may communicate with the location sensor to determine for example day length at the current location of the device based on the date. This could enable the device to determine whether it is daytime or nighttime based on the time date and geolocation.

The calendar clock and the location sensor may also communicate to create a log of where the device is located at numerous time points. The log of time place data may be compiled into a map that shows movements of the device overtime and throughout different dates. This map may be stored in the memory for example as a part of the user information . The location sensor includes any sort of system that informs the mobile device of its geolocation including but not limited to the Global Positioning System of satellites circling the Earth. Alternatively the location sensor may determine geolocation by radio signal triangulation e.g. triangulation based on radio antenna signal strength .

The network interface may be configured for wirelessly communicating with the network . The network interface may use any standard protocols for network communication. The network interface may be capable of high speed wireless network communication. In some implementations the network interface may use the antenna to send and receive data from the network . In further implementations a network interface may provide information to the location sensor e.g. a closest network access point from which the location sensor can infer or calculate a location of the mobile device .

The user identifier represents a user that is interacting with the server s via a mobile device . The authentication module determines if communications coming from the mobile device should be associated with the user identifier . In some implementations authorization may involve handshaking or other verification between for example the authentication module of the server s and the security module of the mobile device . The authentication module may similarly authenticate the identity of merchants . Providing robust data security may avoid fraudulent transactions from both mobile devices and merchants .

The server s may also include a transaction module . In some implementations the transaction module on the server s is similar to the transaction module on the mobile device . Transactions between the user and the merchant may be facilitated by either or both of the transaction modules and when a geolocation of the device matches or is within a threshold distance of a geolocation of the merchant. The transaction module may be configured with APIs for exchanging information with both the merchant and the mobile device . In some implementations the APIs exposed to the merchant may be regulated to prevent unauthorized merchants from access in the system and to improve data security. The APIs exposed to the mobile device may be generic or customized to specific device hardware and operating systems. Providing multiple sets of APIs may allow the server s to translate communications between mobile devices and merchants that would otherwise not be able to exchange information.

A map stored on the server s may contain geolocations of merchants . Correlation between a particular merchant and a particular geolocation may be used to infer that a mobile device is located at or near a merchant because the mobile device is located at or near a geolocation associated with that merchant in the map . The map may also contain real time information about the geolocations of each of the mobile devices associated with the respective user identifiers . From this information it may be possible to determine how many mobile devices that belong to the system are present at a given merchant location. It may also be possible to identify other mobile devices in proximity to a given mobile device . For example the map may show that a user s friend or at least the friend s mobile device is at the merchant next door.

The server s may also facilitate advertising via advertisements sent from or on behalf of the merchant to the mobile device . In some instances the bidding module may receive and process bids for the privilege to place advertisements on mobile devices . Users may opt in to receive advertising and be presented with relevant advertisements based on a geolocation of the mobile device and user information . The bidding may be structured according to any known bidding system or otherwise. The operator of the server may structure the bidding so as to maximize advertising revenue paid by the merchants .

Out of all the merchants participating in the system the user may select some subset of those merchants as trusted merchants . In some implementations whenever a user conducts a transaction with a merchant the user may be asked if he or she wishes to add that merchant to the list of trusted merchants. This status as a trusted merchant may be part of the user information . The status as a trusted merchant may enable the merchant to engage in transactions with the user via the user s mobile device . The status as a trusted merchant may also decrease the amount of interaction required from the user to complete electronic transaction using the mobile device as compared with other merchants that are not included on the trusted merchant list. Within the list of trusted merchants different merchants may be given different trust levels by the user . For example transactions with the most trusted merchants may be completed automatically merely by the user and the mobile device entering a location of the merchant . For other merchants with whom the user does not desire such use of zero click transactions the user may indicate a lower level of trust that requires some minimal interaction between the user and the mobile device in order to complete a transaction. This may be thought of as a one click interaction although the specific interaction may be something other than a click. For other merchants that the user associates with an even lower level of trust the user may require more than one click such as entry of a password and login before the mobile device is enabled to complete a transaction with the merchant .

The merchant profiles contain information about the merchants such as geolocations of the merchants brick and mortar locations promotions offered by the merchant and other data about the merchant which may be used to facilitate transactions with mobile devices e.g. types of credit cards are accepted . The geolocations may be one source of data used to create the map stored on the server s . The promotions may include things such as coupons or discounts for goods or services offered by the merchant. The promotions may for example give a discount to a user who has designated the merchant as a trusted merchant. As a further example a merchant may provide a coupon to a user of a mobile device when the user enters a competitor s store.

Communication between merchants and mobile devices may also include advertising. The mobile device may have a user interface with a designated window or advertisement box for displaying advertisements sent from merchants . The advertisement database stores advertisement content in association with geolocations and merchant information . Because the advertisements are targeted for mobile devices which may include a location sensor the advertisement content is associated with one or more geolocations in order to provide location relevant advertisements. For example advertisements for a merchant may appear when the user carrying the mobile device approaches the geolocations of one of the merchant s retail stores. For instance when a user approaches a coffee shop that coffee shop may serve an advertisement or a promotion for a discounted cup of coffee when the user is near to or is within the coffee shop.

The advertisement content may appear when the mobile device is a predetermined distance from the merchant. In some implementations the predetermined distance may depend upon a speed at which the mobile device is traveling so that someone traveling in a moving car may receive the advertisement content at a greater distance from the merchant then someone walking. In some implementations the display of advertisements may be deactivated based on the speed at which the mobile device is moving. This feature could prevent distractions to drivers by blocking advertisements or at least placing the mobile device into a silent mode when the speed of the mobile device exceeds a speed threshold. The merchant information may designate the merchant supplying the advertisement content . This may be used in conjunction with the user profile of a user to provide advertisements from merchants from which that user has expressed an interest explicitly or implicitly while refraining from providing advertisements from other merchants. The merchant information may also contain a bid amount indicating a maximum amount that the merchant is willing to bid in order to win and display their advertisement on the user s mobile device. This bid amount may be used by the bidding module to determine which advertisement content is displayed on a given mobile device .

Operation then correlates the location with a merchant. The merchant may for example provide a wireless network connection inside or proximate to its premises and the connection may identity the merchant. By doing so each device using that network connection may recognize its current location as being at the merchant. In some implementations the device may additionally or alternatively be aware of an abstract location such as a latitude and longitude provided by GPS. A map of merchant locations may be used to match the latitude and longitude of the device with a merchant location. There may be locations at which the geolocation of the device can be identified however that geolocation might not correlate with any merchant location. For example the device may be on a street near to several merchants but not located at any of those merchants.

At decision point it is determined if the device is located at the merchant. In some instances this determination may include determining if the device is within the merchant while in other instances this may include determining if the device is within a predetermined distance of the merchant. If not process follows the no path and returns to operation . This loop may repeat continually until the device is located at a merchant. When the device is located at a merchant process follows the yes path to decision point .

At decision point it is determined if transactions with this merchant are automated. For example the user may decide that he or she wants to complete certain types of transactions with certain types of merchants in an automated manner. In such situations the user may activate an automatic transaction functionality of his or her mobile device. However for other merchants or for other types of transactions the user may desire more interaction such as specifying the details of the transaction or affirmatively agreeing to the transaction. If this transaction with this merchant is not automated process follows the no path and returns to operation . If the transaction is automated then process follows the yes path to operation .

At operation a transaction between the user of the device and the merchant is completed automatically in some instances. This automatic completion of the transaction when the user is located at the merchant creates a friction free experience for the user. The coupling of location awareness with a mobile computing device allows for zero click transactions.

As one illustrative example a user could associate her prepaid card or other payment instrument for the local coffee shop with a mobile device. The user could additionally set her favorite drink at this coffee shop as a tall latte. This information may be stored on the mobile device such as user information or somewhere on a network such as user information . The local coffee shop may have many stores and each store location may be associated with unique latitude and longitude coordinates. When the user carrying her mobile device arrives at any of the store locations the device recognizes those coordinates as corresponding with the local coffee shop and implements a transaction specified by the user. In this example the user can specify that the mobile device uses her prepaid card to purchase a tall latte whenever she enters one of the local coffee shop locations. The user can walk directly to the counter and pick up her tall latte without opening her wallet or even verbally placing an order. This is a friction free transaction. This example may take several variations. For instance the merchant may ask the user to show an identification of the user e.g. a driver s license to orally state a password associated with the user or the like. Or the user may receive a phone call or a text message and may confirm completion of the transaction via one of these communication channels.

As another illustrative example the merchant may be an ambulance that is itself mobile with location awareness and ability to communicate with mobile devices. A portion of the user information and or may contain medical information about the user. This information may be encoded available only through predetermined APIs or otherwise limited so that is only released to merchants that provide medical services such as the ambulance. When the geolocation of the ambulance and the geolocation of a mobile device are the same the medical information from that mobile device may be automatically provided to medical service providers in the ambulance. That medical information could potentially contain a photo of the user so that the paramedics can confirm that the person actually in the ambulance is the correct user to associate with the medical information. This medical information may include for instance a medical history of the user medications that the user is allergic to and the like thus allowing the paramedics to properly treat the user in the event of an emergency.

The mobile device may also facilitate transactions with merchants even when the user is not at or near the geolocation of the merchant . For example some merchants such as an online dating matchmaking service may not have a physical location of relevance to users. For this type of merchant the point of sale device may be a server itself or a component of the merchant server . In such cases the user may be at a geolocation associated with another merchant such as a restaurant but interact with the online merchant.

In an online dating implementation transactions may be dependent upon the geolocation of one user relative to another user rather than the geolocation of the user with respect to the merchant . For example members of the online dating service may choose to make the geolocations of their respective mobile devices available to a merchant server of the online dating service. The merchant server may determine if two mobile devices are within a threshold distance of each other and if the two users are determined to be a match by the dating service e.g. a match may be defined at least in part upon user information such as the user profile a transaction may be initiated between one or both of the mobile devices and the online dating service. The transaction may comprise a notification of a member match to which one of the users may respond by requesting to contact the other user who is the member match. The other user receiving the contact request may accept the contact request decline the contact request or ignore the contact request. If the contact request is accepted the online dating service may allow mediated contact between the two users. In some implementations direct contact information may be kept private so that communication between the two users must go through the online dating service e.g. the merchant server of the online dating service .

At decision point it is determined if the merchant is a trusted merchant for the user. The determination may be based in part on the list of trusted merchants illustrated in . When the merchant is a trusted merchant process proceeds along the yes path to operation . At operation the user device logs in to the merchant. The login may be completed using the user identifier illustrated in .

At operation information about the device user is shared with the merchant. The information may include payment information preference information and a user identifier . In some implementations the user identifier provided to the merchant in this operation may be the same user identifier discussed above. In other implementations the user identifier in operation may be different such as a unique user identifier for this particular merchant a nickname that is a proxy for the user identifier or other identifier. Information may be shared with a point of sale device of the merchant such as illustrated in . The preference information may indicate what type of good or service the device user prefers to purchase. Returning to the coffee shop example the preference information may indicate that the user wishes to purchase a tall latte when at that coffee shop. In the tollbooth example the preference information may indicate that a user operates a motorcycle rather than a car and thus wishes to pay the appropriate toll for a motorcycle. In some implementations the mobile device may simply provide the user identifier to the merchant and merchant may retrieve other information linked to the user identifier e.g. payment information preference information etc. from a communication network such as the network illustrated in .

Next at operation the purchase between the user and the merchant is completed. The purchase may be completed using the payment information . It may also be completed using preference information which in some implementations may be used to automate the purchase so that the good or service indicated by the user preference information is automatically purchased when the mobile device is detected at a merchant. In other implementations completing the purchase at operation may involve only a single interaction between the user and the mobile device. For example the user may need to press a particular number on a numeric key pad or a soft key on a touch screen display of the mobile device. Additionally the single interaction may comprise speaking into a microphone on the mobile device or shaking the mobile device to activate an accelerometer inside the mobile device. Some transactions meanwhile may involve multiple interactions.

If however at decision point the merchant is not recognized as a trusted merchant process proceeds along the no path to operation . At operation the user is queried regarding if and how to proceed with a purchase at this merchant. For example the user may decline to interact with this non trusted merchant. Alternatively the user may elect to login to the merchant even though it is not a trusted merchant and proceed to complete a purchase.

At operation user information to share with a merchant is selected. The user information may include any or all of the user information shown in and or the user information shown in . For example sharing the user identifier with the merchant will enable the merchant to recognize that mobile device by the user identifier . Additionally the user may choose to share different information with different merchants. For example credit card information may be shared with one merchant while bank account information is shared with a different merchant.

Next at operation a transaction is initiated between the merchant and the mobile device when the mobile device is at the merchant. The transaction may be verified according to the level of transaction verification indicated at operation . As discussed above in some implementations this may comprise zero interaction and in other implementations this may comprise a single interaction or more between the user and the mobile device. Setting up the mobile device in advance can establish default behavior when the mobile device is present at a merchant location. In some implementations this setup information may expire after some length of time such as 24 hours. Upon expiration the level of transaction verification may be reset to require a complete login for every merchant or in some implementations the number of interactions required may be raised incrementally e.g. zero interaction merchants now require a single interaction single interaction merchants now require at least two interactions with the mobile device etc. . In other implementations the setup information may not expire but rather persists until the user makes a change.

The user may initiate a transaction through interaction with device . Device may be the mobile device or it may be a different computing or communication device such as a telephone a desktop computer laptop computer thin client set top box game console or the like. Device may be connected directly or indirectly to a network . The network may be the same network as network illustrated in . A user identifier is associated with the transaction . The user identifier enables the merchant to match transaction with the correct user. Initiating that transaction may place that transaction in a transaction queue of the merchant . In some implementations this transaction queue may be maintained on the merchant server illustrated in . The transaction queue could contain such things as a pre order for a cup of coffee to be delivered when the user arrives at the coffee shop or a hotel reservation to be confirmed with the user checks in to the hotel . Transactions may remain in the transaction queue for some period of time e.g. minutes or days but instantaneous or nearly instantaneous implementations are also possible.

The user later arrives at the merchant with his or her mobile device . Recall that the mobile device may also be associated with the user identifier as illustrated in . In some implementations a satellite provides the mobile device with a geolocation that can be compared with or matched to a geolocation of the merchant . When at the merchant s location the mobile device and a computer system of the merchant can communicate directly over a communication path or indirectly via the network . The merchant may access the network to retrieve the transaction when the mobile device associated with user identifier is present at the merchant location. Information provided by the merchant to the mobile device may be used by the user to complete the transaction . In some implementations completing the transaction may involve the user being charged and subsequently gaining access to a secure location . The secure location may comprise a hotel room an airplane a person s home a workplace inside the borders of a country or any other geolocation to which entry is regulated. Entry to the secure location may be provided by a code personalized to the user . The personalized code may be stored in the user information . For example the code may be a series of numbers and letters that the user wishes to re use whenever access requires entry of a code on a key pad or such. As a further example the code may be based at least in part on biometric data from the user . Biometric data is discussed below in more detail in relation to . In some implementations this code may be hidden from the merchant so that the merchant only receives the user identifier but cannot access the user s personalized code.

For example a user may make a hotel reservation from his home computer. The reservation along with his user identifier is transmitted across a communication network to the computer systems of the hotel. Some time e.g. days later when the user arrives at the hotel and his mobile device is detect at the geolocation of the hotel the user identifier contained in his mobile device is used to retrieve the reservation. After confirming payment such as by a credit card also linked to his user identifier the hotel sends a text message or other communication to his mobile device that contains his room number. This may happen while he is walking through the lobby to the elevators without ever stopping at the front desk. Once at his room the presence of his mobile device outside the door may be detected by a wireless communication network in the hotel and the door may be automatically unlocked. Room keys may be provided inside the hotel room. In implementations in which the user identifier is also linked to a user profile and the user has elected to share his user profile with the hotel the user profile may be used to customize his guest experience at the hotel by for example instructing the hotel staff to place his favor type chocolate on the pillow. Similar to the purchase of goods the system can provide a friction free experience for the purchase of services.

As a further example the architecture and systems described herein can be applied to immigration and border security. In this context the transaction may be the granting of entry to a country. Initially the person wishing to travel to a different country may enter user information about the potential trip into a computing device and associate that information with the transaction as well as a user identifier for the potential traveler. In some implementations a passport number could be used as the user identifier . Upon arrival at immigration in the destination country mobile device carried by the traveler may signal to the immigration authority that this person has arrived and is requesting entry. In some implementations the user identifier may be associated with a mobile device such as a mobile phone that the user is instructed to bring when they travel to the other country. In other implementations the mobile device may be a miniaturized electronic device that is attached to the user s passport as an entry visa. In yet other implementations the passport itself may comprise the mobile device and an RFID in the passport may be the user identifier . This system may reduce the friction associated with processing people entering a country by allowing the immigration transaction to be partially completed in advance and by automatically identifying the people and the corresponding information when they are located at an entry point.

Upon arrival at the merchant s geolocation the mobile device is detected at the merchant in operation . The detection may be direct such as implementations in which a signal broadcast by the mobile device is picked up by a receiver at the merchant. Alternatively the detection by be indirect or inferred by correlating a current geolocation of the mobile device with a geolocation of the merchant. At operation the presence of the user is communicated to the merchant. The communication may trigger the merchant to access the transaction.

User information may be provided to the merchant at operation . The user information may be provided directly from the memory of the mobile device or a user identifier associated with the mobile device may be used to retrieve user information from a network or other remote data source. As discussed earlier the user information may include payment information a user profile and the like. The user profile may include user preferences that the merchant uses to modify the transaction. User preferences may include such things as window or aisle seat on an airplane smoking or non smoking rooms in a hotel and the like. Next at operation the transaction between the user and the merchant is completed. Completion may include collecting a payment confirming a reservation making a purchase etc.

Following completion of the transaction at operation the merchant may send a message to the mobile device confirming completion of the transaction. The message may be a receipt for the transaction or in some implementations it may be a code or other information that is necessary to access a secure location such as a hotel room or an airplane. For example the message may comprise a boarding pass barcode that can be displayed on a screen of the mobile device and scanned by conventional equipment when the user boards an airplane. In other implementations the message may be an electronic token that provides additional functionality to the mobile device. For example the electronic token may allow the mobile device to broadcast a signal e.g. analogous to a garage door opener that may be used to open a door and gain access to the secure location.

The satellite and the radio antenna are the same as shown in . The child device is aware of its geolocation or another entity is able to track this geolocation. The geolocation information may be provided by the satellite the radio antenna and or alternative sources as discussed above. The child device and the parent device share at least one communicative connection. In some implementations such as mobile phones the two devices may communicate via the radio antenna . In the same or different implementations the two devices may have a connection to a network such as the Internet. The network may be the same as the network shown in . In other implementations it may be a different network such as a subset of the network restricted to only content and connections that are deemed suitable for a child.

The merchant may also have a connection to the network over which information may be shared with either the child device or the parent device . The child device may communicate with the merchant across the network and or communicate directly with the merchant over a direct communication link . The direct communication link may be similar to the direct communications link illustrated in .

An indication of the transaction is transmitted to a parent device at operation . The indication may inform the user of the parent device about the details of the transaction between the child device and the merchant. In some implementations the indication may be provided in real time to the parent device. A record or log of transactions of the child device may be maintained for access by the user of the parent device. The log may store any combination of transactions initiated completed and or denied. In some implementations the log may be similar to the transaction record illustrated in . The log may be stored in association with the user identifier of either the parent or the child. Depending on the level of control a parent wishes to exercise over transactions made by a child parental authorization from the parent device to the child device may be necessary to complete the transaction. A requirement for parental authorization may depend on the nature of a transaction. For example a parent may configure the system to allow the child to purchase books without parental authorization but to require parental authorization for purchases of candy. Additionally or alternatively the requirement for parental authorization may depend of a value of the transaction i.e. dollar value a geolocation of the child device and or other factors. In one implementation the parent may provide the child with a budget in terms of money or other metric and when the child is under budget authorization may not be required but authorization may be required for transactions that exceed the budget. In situations for which parental authorization is required the indication may include a request that the parent respond by either authorizing or denying the transaction.

At decision point is determined whether or not parental authorization is required. When parental authorization is not required process proceeds along the no path to operation . At operation the transaction between the child device and the merchant is completed. In some implementations the transaction may be completed based in part upon a user profile associated with the child. Furthermore in the same or different implementations a user profile associated with the parent may also affect how the transaction is completed. For example if the child has indicated that he or she wishes to automatically a purchase particular candy upon entering a candy store that portion of the child s user profile may be used to complete a purchase of that type of candy. The user profile associated with the parent may be used for among other things a source of payment information to complete the candy purchase.

When parental authorization is required the process proceeds from decision point along the yes path to decision point . At decision point it is determined whether or not the parental authorization has been granted. When parental authorization is granted for example by the parent interacting with the parent device process proceeds along the yes path to operation and the transaction is completed. However when authorization is denied the process proceeds along the no path to operation and the transaction is terminated. Termination of the transaction may result in a message being sent to the child device and or the merchant.

The user may begin his workday at his home which has a fixed geolocation. Typically he specifically his mobile device may be at home from approximately 6 00 PM until approximately 7 00 AM and this comprises a first temporal geo location for his workday. Commuting from home to work may involve driving along the road to work between approximately 7 00 AM to approximately 7 30 AM. His automobile may include an additional device such as an on board navigation system that is also associated with his user identifier and thus also contributes to building a map of temporal geo locations for the user. He may use the same route every day in commuting to work so the systems of the user device may recognize this temporal geo location even though it is not a single fixed position but rather a series of geolocations and a series of time points. After arriving downtown the user s day may include another temporal geo location that comprises his walk from a parking area to his office between approximately 7 30 AM and approximately 7 45 AM. While at the office the user and the user device may move around within the office but remain at the geolocation of the office from about 7 45 AM to about 12 00 PM. This is another temporal geo location .

Up until lunchtime this user s typical weekday schedule may be fairly consistent. However during lunch he may move to a variety of geolocations associated with various restaurants shown here as Restaurant A Restaurant B and Restaurant C. The user may generally be inside one of the restaurants from approximately 12 10 PM to approximately 12 50 PM. This temporal geo location may have a well defined time but a loosely defined location. For example any geolocation within a 10 minute walk of the office may be deemed part of this user s typical weekday movements during the lunch hour. After lunch the user may return to the office. The office is at the same geolocation it was during the morning but the time period is different so being in the office from about 1 00 PM until about 5 00 PM creates yet another temporal geo location in the map of this user s workday.

The user may have more than one route he takes home from work. During the winter for example the user may take a more direct road home leaving office at about 5 10 PM and arriving home at about 6 00 PM. This creates a temporal geo location across a range of space and time similar to the temporal geo location representing the road to work. In the summer this user may take the scenic route home. The road home in summer may have a different geolocation in all or in part from the road home in winter. The road home in summer may also take longer so that while the user leaves the office at 5 10 PM he does not arrive home until 6 10 PM. This creates an alternate temporal geo location to the temporal geo location representing the road home in winter. Depending on the security settings of the mobile device the mobile device may not trigger a security event no matter which route the user takes home even if he uses the winter road during the middle of summer. Alternatively if stricter security settings are applied then taking the summer road during midwinter may trigger security event but during mid March the mobile device may tolerate the user taking either road without triggering a security event.

By recording times dates and geolocations as the mobile device is used and moved it is possible for a security system for example security module to learn what are typical movements through space and time. This geolocation signature of the user can be stored in a data file as a series of time location data points. Some or all of these data points may be layered together to create a multidimensional map containing past geolocation and time information for the mobile device.

A map is created from movements of the mobile device over time based on a plurality of the temporal geo locations at operation . As indicated above this may be a multidimensional map comprising a latitude dimension a longitude dimension a time dimension and a date dimension. Including additional and or alternate dimensions in the map is also possible. This map may become more detailed and potentially more useful as a greater amount of data is accumulated. For example when a user initially purchases a mobile device it may not be possible for the mobile device to detect whether or not it has moved away from the user s regular temporal geo map. If the user knows that he or she will be moving in ways that are atypical i.e. going off the map the user may manually turn off the recording of temporal geo location data points. This may prevent inclusion of data into the map that would degrade rather than improve the accuracy of the map.

In order to detect whether or not the mobile device has been stolen misplaced or is otherwise in the wrong place at the wrong time decision point may compare the current temporal geo location of the mobile device with the map and determine whether or not the current temporal geo location varies more than a threshold amount from the map. In some implementations this comparison may be achieved at least in part through the use of artificial intelligence heuristics or fuzzy logic. In some implementations the threshold may be configurable by the user of the mobile device. The analysis may also draw upon calendar or scheduling information of the user to see if the user has a scheduled trip that varies from his regular map. The calendar information may be included in the user information and provided to the security module .

When an amount of variance is less than the threshold amount process proceeds along the no path and returns to decision point to once again query whether or not the mobile device has varied too far from the map. This loop may be repeated continuously periodically or randomly. The frequency of repeating this loop may be based in part upon processor power of the mobile device a velocity at which the mobile device is moving and or other factors. For example the frequency of performing the analysis at decision point may be lower when the mobile device is moving at a walking pace and the frequency may be higher when the mobile device is moving at a highway speed .e.g. while in a car .

The threshold amount may also be based at least in part on the presence of other mobile devices in the same geolocation or near to the mobile device. For example a user may vary from his or her established map during a vacation. However during the vacation the user may travel with his or her family members who may have their own mobile devices. In one implementation the mobile devices of the family members or as a further example coworkers may be associated with each other. One type of association is the parent child relationship illustrated in above. The presence of these other mobile devices may be used to adjust the threshold. The absence of other devices may also be used to adjust the threshold. If for example the mobile device is rarely found in a particular geolocation unless other mobile devices are nearby then the absence of those devices may be a variance from the user s map. For example the mobile device associated with a parent may occasionally be located at a soccer field on evenings during which a child is playing soccer. However on those evenings the child s mobile device is also at the soccer field. If for example the user forgot her mobile device at the soccer field a security event might be triggered once the child s mobile device leaves the geolocation of the soccer field. Presence or absence of other mobile devices may comprise an additional dimension of the temporal geo location map.

Returning to process when the current temporal geo location varies more than a threshold amount process proceeds along the yes path to decision point . At decision point the threshold may be adjusted based on the presence of other mobile devices in the same geolocation as the mobile device. When the threshold is adjusted process proceeds along the yes path and returns to decision point to reevaluate based on the adjusted threshold. When the threshold amount of variance is not adjusted process proceeds along the no path to operation and initiates a security event. The security event may comprise shutting down the mobile device initiating an automatic phone call or text message to another device that includes the current location of the mobile device requiring input of a password before the mobile device can be used and the like. The user may manually turn off the security events if for example the user is travelling to a new place or travelling at a new time and wishes to avoid false positive security events.

At operation biometric data is received from a sensor of the mobile device. Many mobile devices such as the mobile device illustrated in are equipped with input devices that may be used for multiple purposes including receiving biometric data. For example the mobile device may include a camera . The mobile device may also include a microphone . In other implementations the input device that collects biometric data may be used specifically for collecting biometric data such as a fingerprint scanner . Other types of general purpose input devices used to collect biometric data and or special purpose biometric data input devices are also envisioned within the scope of this disclosure.

Next at operation the biometric data is analyzed. In some implementations the biometric data may be analyzed by a processor and software present on the mobile device itself. This implementation may allow the mobile device to offer stand alone confirmation of a user s identity without a need to access a network or other computing device. In other implementations the biometric data may be sent from the mobile device to another computing device for analysis. This implementation may allow more sophisticated and computationally intensive techniques for analyzing biometric data than could be readily implemented on a mobile and potentially low power device. Analysis of the biometric data may convert analog input into digital data or convert a complex set of data such as a fingerprint into a relatively simple string of data like a hash code. The analysis of the biometric data may be matched to the type of data received. For example if the camera is used to collect biometric data by taking a picture of a person s face that picture may be analyzed using facial recognition techniques. Alternatively if the microphone is used to record a sample of a voice then that data may be analyzed by using voice recognition techniques. For added levels of security multiple types of biometric data may be used together such as for example taking a picture of a person s face and recording that person s voice then analyzing both sets of biometric data.

At decision point a determination is made as to whether the analysis of the input of biometric data matches stored biometric data associated with the mobile device. For example the hash code generated from a fingerprint scan could be compared to a stored hash code that the user entered while she was setting up the mobile device. In some implementations the stored biometric data which is used for comparison is stored locally on the mobile device. The biometric data may be stored for example as part of the user information shown in . Again this may allow the mobile device to provide stand alone analysis. In other implementations the stored biometric data may be stored remote from the mobile device for example as a part of the user profile illustrated in . Storing the biometric data remotely may conserve memory space on the mobile device and may provide greater security by preventing an unauthorized person from extracting biometric data from a lost or stolen mobile device.

When the analysis of the biometric data matches the stored biometric data process proceeds along the yes path and grants access to a functionality of the mobile device at operation . The functionality may comprise any type of operation feature data and the like available on or implemented by the mobile device. For example the ability to initiate and complete a transaction with a merchant is one type of functionality. The ability to make phone calls is a type of functionality on mobile telephone devices. Associating a particular mobile device with an individual user s identity is another type of functionality. For example a network server such as the server s illustrated in may associate a user ID 1 stored on a network with a serial number of the mobile device based at least in part upon a login that uses biometric data. In this implementation the user could interact with multiple mobile devices yet have each device tied to his or her unique user identifier and other things which are linked to that user identifier such as the payment information user profile and a list of trusted merchant s as shown in .

If at decision point it is determined that the analyzed biometric data does not match the stored biometric data process may proceed along the no path and initiate a security event at operation . The security event may be anything from shutdown and complete deletion of all stored data on the mobile device to a warning message displayed on the mobile device. In some implementations the security event may limit functionalities of the mobile device such as to those functionality that do not incur additional charges. Other types of security events may include sending an e mail or making a phone call that communicates the current location of the mobile device. The security event at operation may be the same or different than the security event triggered at operation illustrated in .

Security events may be triggered by other mechanisms besides variance from a temporal geo location map or failure of a biometric login. In some implementations the user may be able to manually initiate a security event remotely from the mobile device. Some mechanisms of achieving this include calling a phone number sending an e mail entering a command from a webpage or the like. The web page may be a security web page for that mobile device that shows a current geolocation of the mobile devices as well as past transaction data and the like. For example if the user suspects that his or her mobile device was lost or stolen that user could call a certain phone number enter a code and then a signal would be sent over a network and broadcast to the mobile device causing the mobile device to temporarily shut down. In other implementation different triggers may be used to initiate a security event. Some of those triggers include financial transactions for example sending out an alert message when a large purchase is initiated using the mobile device.

One user and one mobile device receiving the advertisements may be the same as illustrated in . There may be other users each having a respective mobile device . Although only two users and only two mobile devices are illustrated in it is to be understood that any number of users and mobile devices may exist in this architecture and may be appropriate recipients for an advertisement .

Each of the mobile devices and may receive geolocation information from a satellite or other source. The respective mobile devices and may receive geolocation information from different sources e.g. a radio antenna for one mobile device and a WiFi hotspot for the other mobile device . The geolocation of the mobile devices and may be matched with geolocation s associated with advertisement content as illustrated in . This may provide location relevant advertising to the mobile devices and .

Next at operation merchants are identified based on the geolocation of the mobile device and on the advertisement preference of the user. The identified merchants may include only merchants within a specified distance from the mobile device. This can limit the possible source of advertisements to only those merchants that are located proximate to the geolocation of the mobile device. For example if the user is walking down a street lined with restaurants restaurants along that street may be eligible to advertise on the mobile device but restaurants located across town would not. A threshold or radius within which merchants are identified as being proximate to the mobile device may vary based on the type of advertisement. For example restaurant advertisements may only be sent to mobile devices that are within a quarter mile of the restaurant geolocation. However hotel advertisements may be sent to users with mobile devices within five miles of the hotel geolocation. Additionally the advertisements may be sorted by time such that restaurant advertisements may be more common or cover a larger geographic area in the hours before dinner time and hotel advertisements may cover a larger geographic area earlier in the day but progressively narrow the geographic focus as it becomes night.

Once a pool of merchants has been identified based on at least geolocation and advertisement preference bids are received from those merchants at operation . The bids may be received and processed by the bidding module illustrated in . Each of the bids may include different factors that the merchant is bidding on as well as a maximum bid price a range of bid prices or other bidding characteristics. For example a merchant may bid a higher amount to place advertisements on the mobile device of a user who has made purchases from that merchant in the past. As a further example the merchant may bid more to place advertisements on mobile devices that are nearer to the merchant and bid less to place advertisements on mobile devices that are farther away from the merchant.

At operation an advertisement is selected. The selected advertisement may be determined based on the bid price the user preferences and other factors such as for example whether the merchant has enough money in an advertising account to pay the bid price. In some implementations a winning bid that determines the selected advertisement may be the bid associated with a largest amount of money. Other bidding or auction arrangements are also possible such as for example the highest bidder paying an amount bid by the second highest bidder.

Next at operation the selected advertisement is presented on the mobile device. The advertisement may be supplied from the advertisement database illustrated in . More specifically the advertisement may be generated based on the advertisement content illustrated in . The advertisement may be presented on the mobile device as a banner in a specialized ad window or the like. In some implementations the advertisement may be integrated with a map so that the user can easily identify the location of the merchant that corresponds to the advertisement. The advertisements may remain on the mobile device for variable periods of time. Some advertisements may expire after a fixed amount of time such as one minute. Advertisements may also expire based on geolocation of the mobile device so that when the mobile device leaves a geolocation near the merchant that merchant s advertisement is replaced by a different advertisement.

At operation a number of mobile devices at a merchant is determined based on geolocation information provided by each of the mobile devices. For example each mobile device could detect its own geolocation based on a satellite or other system and expose that information to a server s for inclusion in a map in which the geolocations of multiple mobile devices are correlated with the geolocation of a merchant. The number of mobile devices may represent a number of unique users present at that geolocation.

Next at decision point the number of mobile devices at the merchant is compared to a threshold number. The threshold number may be set by the merchant as for example a number of people the merchant would like to have on its premises. In this implementation the threshold may be an integer number. The threshold number may be based at least in part on a number of mobile devices at the merchant for which the merchant is designated as a trusted merchant. For example if the merchant wishes to bring in new users with the hopes that they will designate this merchant as a trusted merchant the threshold may be set as a ratio such the threshold is exceeded when for example more than a third of all mobile devices present do not designate this merchant as a trusted merchant. When the number of mobile devices at the merchant exceeds the threshold number process proceeds from decision point along the yes path to operation and provides a promotion to the users. The promotion may be a discount for a good or service available at the merchant. The promotion may be provided to all the users present at the merchant or to only a subset. For example to reward loyal customers a coupon may be sent to the mobile devices of users who have transacted with this merchant in the past.

The promotion may be personalized for each of the users of the mobile devices based on user information associated with the mobile device. This using information may be the same as the user information illustrated in or the user information illustrated in . For example in a coffee shop each user may receive a coupon for one dollar off the coffee drink he or she has indicated as a favorite drink. Other user information may also be analyzed to personalize the promotions. The coupon may incentivize the user to return to the merchant by providing a discount at a later time e.g. this coupon is valid from tomorrow for the next 10 days or by geolocation e.g. please use this coupon at one of our other stores . The coupon may also be associated with the user identification so that the coupon is applied automatically the next time that user conducts a transaction with that merchant.

If however the number of mobile devices at the merchant does not exceed the threshold process may proceed along the no path to operation and send a message to the mobile devices. The message may be a notification of how many more devices must be present at the merchant in order to cross the threshold. This could be a source of viral marketing by encouraging users to call or text their friends to come to this merchant location with their mobile devices so that the threshold is crossed and everybody receives the promotion. In implementations in which mobile devices are counted as being at the geolocation of the merchant only when the user of that mobile device opts to expose his or her geolocation to the merchant this may encourage reticent users to share this information in order to receive the promotion. Many other implementations that take advantage of the peer pressure effect by providing a promotion for aggregate behavior are also possible.

There may also be instances in which a large number of customers as indicated by a number of mobile devices may be undesirable to the merchant and or the users. Thus in one implementation the advertisement may comprise a notification about how many mobile devices are present at a merchant and to what extent this number exceeds a maximum or threshold number. For example a restaurant may report that more mobile devices are present at its geolocation than the restaurant has seats. With this information a user could be forewarned that he or she may have to wait for a table at that restaurant. As another example an airline may identify mobile devices of users scheduled to be on a flight that are not yet at the airport or not within a threshold distance of the boarding gate to inform these users that the fight is overbooked. This implementation may use geolocation in conjunction with user information e.g. the flight reservation to provide an offer to take a later flight perhaps in exchange for an upgrade or such to those customers most likely to avail themselves of that offer. In these instances the process flow from decision point may be switched in that the message is sent out if the number of user devices exceeds the threshold number.

After sending the message at operation process may return to operation and again determine a number of devices at the merchant. This may repeat until the threshold is crossed or until a period during which the promotion periods ends. The process illustrated in may be combined with process . For example merchants may bid for the right to send an advertisement that comprises a promotion.

These processes discussed above are each illustrated as a collection of blocks in a logical flow graph which represent a sequence of operations that can be implemented in hardware software or a combination thereof. In the context of software the blocks represent computer executable instructions stored on one or more computer readable storage media that when executed by one or more processors perform the recited operations. Generally computer executable instructions include routines programs objects components data structures and the like that perform particular functions or implement particular abstract data types. The order in which the operations are described is not intended to be construed as a limitation and any number of the described blocks can be combined in any order and or in parallel to implement the process.

Although the subject matter has been described in language specific to structural features and or methodological acts it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts described. Rather the specific features and acts are disclosed as illustrative forms of implementing the claims.

