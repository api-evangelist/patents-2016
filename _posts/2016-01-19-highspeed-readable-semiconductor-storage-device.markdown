---

title: High-speed readable semiconductor storage device
abstract: According to one embodiment, a semiconductor storage device includes a memory cell array and a controller. The memory cell array includes a first memory cell, a second memory cell, a third memory cell, and a fourth memory cell. The controller writes data having n values (n is natural numbers of 2 or more to k or less) in the second memory cell and simultaneously writes the fourth memory cell, after writing the data having the n values in the first memory cell. When reading the data from the first memory cell, the controller reads data of the first memory cell and the third memory cell which is selected simultaneously with the first memory cell and, changes a read voltage of the first memory cell based on the data read from the third memory cell.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09424913&OS=09424913&RS=09424913
owner: KABUSHIKI KAISHA TOSHIBA
number: 09424913
owner_city: Minato-ku
owner_country: JP
publication_date: 20160119
---
This application is a continuation of U.S. application Ser. No. 13 599 193 filed Aug. 30 2012 which is based upon and claims the benefit of priority from Japanese Patent Application No. 2011 264859 filed Dec. 2 2011 the entire contents of which are incorporated herein by reference.

Embodiments described herein relate generally to a semiconductor storage device such as a NAND flash memory in which binary or multi level data can be stored.

Recently there has been developed a multi level NAND flash memory in which one of a plurality of threshold voltages is set to one memory cell and data of a plurality of bits are stored.

On the other hand a coupling capacitance between the memory cells adjacent to each other tends to increase with the shrinking of an element a threshold voltage of the previously written memory cell fluctuates according to the write of the adjacent memory cell. Therefore there is proposed a method for writing a target threshold voltage in the memory cell after the data is written in the adjacent memory cell.

However when the target threshold voltage is also written in the adjacent memory cell after that unfortunately the threshold voltage of the memory cell in which the target threshold voltage is written fluctuates due to the coupling capacitance between the memory cells adjacent to each other.

In general according to one embodiment a semiconductor storage device includes a memory cell array and a controller. The memory cell array includes a first memory cell a second memory cell a third memory cell and a fourth memory cell. The first memory cell and the second memory cell are adjacent to each other and the third memory cell and the fourth memory cell are adjacent to each other. The first memory cell and the third memory cell are simultaneously selected the second memory cell and the fourth memory cell are simultaneously selected and data having k value k is a natural number of 2 or more are stored in the first memory cell and the second memory cell. The controller writes the data in the first memory cell the second memory cell the third memory cell and the fourth memory cell of the memory cell array and reads the data from the first memory cell the second memory cell the third memory cell and the fourth memory cell. After writing data having n value n is a natural number of 2 or more to k or less in the first memory cell the controller writes the data having the n value in the second memory cell and simultaneously writes the fourth memory cell. When reading the data from the first memory cell the controller reads the data of the third memory cell which is simultaneously selected together with the first memory cell and the first memory cell. The controller changes a read voltage of the first memory cell based on the data read from the third memory cell.

A memory cell array includes a plurality of bit lines a plurality of word lines and a common source line and memory cells formed of e.g. EEPROM cells in which data can be electrically rewritten are arranged in a matrix form. A bit line control circuit configured to control the bit lines and a word line control circuit are connected to this memory cell array .

The bit line control circuit reads out data in the memory cells in the memory cell array through the bit lines detects states of the memory cells in the memory cell array through the bit lines or applies a write control voltage to the memory cells in the memory cell array through the bit lines to write data into the memory cells. To the bit line control circuit are connected a column decoder and a data input output buffer . A data storage circuit in the bit line control circuit is selected by the column decoder . Data in a memory cell read out to the data storage circuit is output to the outside from a data input output terminal through the data input output buffer . Various kinds of commands CMD that are supplied from the outside and configured to control operations of the NAND flash memory addresses ADD and data DT are input to the data input output terminal . The write data input to the data input output terminal is supplied through the data input output buffer to the data storage circuit selected by the column decoder and the command and the address are supplied to a control signal and control voltage generating circuit hereinafter sometimes referred to as a control circuit .

The word line control circuit is connected to the memory cell array . This word line control circuit selects a word line in the memory cell array and applies a voltage required for a read write or erase operation to the selected word line.

The memory cell array the bit line control circuit the column decoder the data input output buffer and the word line control circuit are connected to the control signal and control voltage generation circuit and controlled by this control signal and control voltage generation circuit . The control signal and control voltage generating circuit is connected to a control signal input terminal and controlled by control signals ALE Address Latch Enable CLE Command Latch Enable WE Write Enable and RE Read Enable that are input from an external HM such as a memory controller or a host through the control signal input terminal .

The bit line control circuit the column decoder the word line control circuit and the control signal and control voltage generation circuit constitute a write circuit and a read circuit.

The bit line control circuit has a plurality of data storage circuits . The data storage circuits are connected to pairs of bit lines BL BL BL BL . . . Blie BLio and BLne BLno respectively.

As indicated by a broken line the memory cell array includes a plurality of blocks. Each block is constituted of the plurality of NAND cells and data is erased in e.g. blocks. Furthermore an erase operation is carried out with respect to two bit lines connected to the data storage circuit at the same time.

A plurality of memory cells memory cells in a range surrounded by broken lines which are disposed every other bit line and connected to one word line constitute one sector sometimes also referred to as one page . Data is written or read in accordance with each sector. That is a half of the plurality of memory cells arranged in the row direction are connected to corresponding bit lines. Therefore the write or read operation is executed with respect to the half of the plurality of memory cells arranged in the row direction.

During a read operation a program verify operation and program operation one bit line is selected from two bit lines Blie BLio connected to the data storage circuit according to an address signal YA YA . . . YAi . . . YAn that is supplied from the outside. Additionally one word line is selected in accordance with an external address and two pages indicated by a broken line are selected. Switching of the two pages is carried out by using an address.

Although the following description holds true for both the configuration in and the configuration in the case that the configuration in is used will be described.

The sign Vreadh designates a voltage which is supplied to the transistor gate of the row decoder that transfers a voltage Vread supplied to the word line in reading the data and the voltage Vreadh is greater than or equal to Vread Vt the threshold voltage of the transfer transistor .

Referring to the sense amplifier unit includes a plurality of N channel MOS transistors hereinafter referred to as NMOSs to a plurality of P channel MOS transistors hereinafter referred to as PMOSs and transfer gates and a latch circuit and a capacitor . For example the latch circuit includes clocked inverter circuits and

One end of a current passage of the NMOS is connected to a node to which a power supply Vdd is supplied and the other end is grounded through the transfer gate the NMOS and the transfer gate . One end of the current passage of the NMOS is connected to a connection node of the NMOS and the transfer gate . The other end of the NMOS is connected to the bit line BL disposed in the memory cell array. A series circuit of the NMOSs and is connected to NMOS in parallel.

One end of the current passage of the PMOS is connected to the node to which the power supply Vdd is supplied and the other end is grounded through the NMOS while connected through the PMOS to an input end of the inverter circuit constituting the latch circuit . An input end of the clocked inverter circuit which is cross connected to the inverter circuit is connected to the data control unit DCU through the NMOS . A gate of the PMOS is connected to a connection node of NMOSs and and one end of the capacitor is connected to the connection node. A clock signal CLK is supplied to the other end of the capacitor .

A signal BLX is supplied to a gate of the NMOS . A signal LAT at an output end of the inverter circuit constituting the latch circuit is supplied to a gate of an NMOS constituting the transfer gate and a signal INV at an input end of the inverter circuit is supplied to a gate of a PMOS constituting the transfer gate . A signal BLC is supplied to a gate of the NMOS and a signal BLS is supplied to a gate of the NMOS . The signal INV at the input end of the inverter circuit constituting the latch circuit is supplied to a gate of an NMOS constituting the transfer gate and the signal LAT at the output end of the inverter circuit is supplied to a gate of a PMOS constituting the transfer gate .

A signal STB is supplied to a gate of the PMOS and a reset signal RST is supplied to a gate of the NMOS . A signal NOC is supplied to a gate of the NMOS .

When the data is written in the memory cell the signal STB is set to a high level hereinafter referred to as an H level the reset signal RST is set temporarily to the H level to reset the latch circuit the signal LAT is set to the H level and the signal INV is set to a low level hereinafter referred to as an L level .

Then the signal NCO is set to the H level to take in the data from the data control unit . In the case that the data is the L level 0 indicating the write the signal LAT is set to the L level and the signal INV is set to the H level. In the case that the data is the H level 1 indicating non write the data of the latch circuit is not changed the signal LAT is retained in the H level and the signal INV is retained in the L level.

Then the signals BLX BLC and BLS are set to the H level. In the case that the signal LAT of the latch circuit is set to the L level while the signal INV is set to the H level write the transfer gate is turned off the transfer gate is turned on and therefore the bit line BL becomes the ground voltage Vss. At this point the data is written in the memory cell when the word line becomes the program voltage Vpgm.

On the other hand in the case that in the latch circuit the signal LAT is set to the H level while the signal INV is set to the L level non write the transfer gate is on and the transfer gate is off whereby the bit line BL is charged to the power supply voltage Vdd. Therefore when the word line becomes the voltage Vpgm the data is not written in the memory cell because a channel of the memory cell is boosted to a high potential.

In the case that the data is read from the memory cell the reset signal RST is temporarily set to the H level to reset the latch circuit and the signal LAT is set to the H level and the signal INV is set to the L level. Then the signals BLS BLC BLX HLL and XXL are set to predetermined voltages to charge the bit line BL. At the same time Node of the capacitor is charged to the power supply voltage Vdd. In the case that the threshold voltage of the memory cell is higher than the read voltage the memory cell is in an off state and the bit line BL is retained in the H level. That is Node is retained in the H level. In the case that the threshold voltage of the memory cell is lower than the read voltage the memory cell is in an on state and the charge of the bit line BL is discharged. Therefore the bit line BL becomes the L level and Node becomes the L level.

Then the signal STB is set to the L level. In the case that the memory cell is on because Node is at the L level the PMOS is turned on to set the signal INV of the latch circuit to the H level and the signal LAT becomes the L level. On the other hand in the case that the memory cell is off the signal INV of the latch circuit is retained in the L level and the signal LAT is retained in the H level.

Then the signal NCO is set to the H level the NMOS is turned on and the data of the latch circuit is transferred to the data control unit

The program verify operation to verify the threshold voltage of the memory cell after the write operation is substantially identical to the above read operation.

The data control unit in includes an operational circuit a plurality of data latch circuits ADL BDL and XDL and an NMOS .

The operational circuit includes a bus hereinafter referred to as an IBUS transfer gates and that are connected to both ends of the IBUS to operate complementarily a latch circuit that latches the data of the IBUS and a setting circuit that sets levels of the data latch circuits ADL BDL and XDL according to the data of the latch circuit .

The transfer gate operates by complementary signal COND and signal CONS to connect a bus hereinafter referred to as an SBUS of the sense amplifier unit SAU and the IBUS. The transfer gate operates by the complementary signal CONS and signal COND to connect the IBUS and a bus hereinafter referred to as a DBUS to which the data latch circuits ADL BDL and XDL are connected. The transfer gate is off when the transfer gate is on and the transfer gate is on when the transfer gate is off.

The latch circuit includes a plurality of PMOSs to a plurality of NMOSs to and an inverter circuit . A set signal SET is supplied to gates of the PMOS and the NMOS and a reset signal REST is supplied to a gate of the PMOS . A signal IFH is supplied to a gate of the NMOS and a signal IFL is supplied to a gate of the NMOS . The IBUS is connected to a gate of the NMOS through the inverter circuit and a gate of the NMOS is connected to the IBUS.

The setting circuit includes PMOSs to and NMOSs to . A signal FAIL is supplied to gates of the PMOS and the NMOS . The signal FAIL is a signal at a connection node of the PMOS and the NMOS as one of output ends of the latch circuit . A signal MTCH is supplied to gates of the PMOS and the NMOS . The signal MTCH is a signal at a connection node of the PMOS and the NMOS as the other output end of the latch circuit . A signal MHB is supplied to a gate of the PMOS and a signal FHB is supplied to a gate of the PMOS . A signal FL is supplied to a gate of the NMOS and a signal ML is supplied to a gate of the NMOS .

The data latch circuits ADL BDL and XDL have an identical configuration and each of the data latch circuits ADL BDL and XDL includes a latch circuit and a transfer gate that connects the latch circuit to the DBUS. The transfer gates are controlled by signals BLCA BLCB and BLCX and their inverting signals BLCA B BLCB B and BLCX B respectively. The data latch circuit XDL is connected to an external IO through the NMOS . A signal CSL is supplied to a gate of the NMOS .

As described above the data control unit retains the write data and retains the data read from the memory cell during the read operation.

For example the data latch circuits ADL and BDL latch the two bit write data which is supplied from the data input output buffer one bit by one bit through the data latch circuit XDL.

The operational circuit in can perform operations such as AND OR and exclusive NOR to the data latch circuits ADL and BDL. For example for the AND operation data retained by the data latch circuits ADL and BDL are output to the DBUS and the IBUS. The IBUS becomes the H level only in the case that both data retained by the data latch circuits ADL and BDL are 1 and the IBUS becomes the L level in other cases. That is the IBUS becomes 1 only in the non write operation and the IBUS becomes 0 in the write operation. The data is transferred through the SBUS to the sense amplifier unit in thereby performing the write operation.

Each one operational circuit in can also be disposed with respect to the plurality of sense amplifier units SAU in and the plurality of data control units DCU in . Therefore a circuit area can be reduced.

Various modifications can be made for the operation of the operational circuit . For example various control methods may be adopted for one logical operation and the control method may be changed as needed bases.

In the embodiment the data latch circuit is constructed by ADL BDL and XDL. The XDL may be eliminated when a write cache to which the next data is input is not required during the write operation.

One data latch may be eliminated when the binary data is stored. A chip size can be reduced by eliminating the data latch.

Because the NAND flash memory of the embodiment is the multi level memory the two bit data can be stored in one memory cell. The two bits are switched by an address first page and second page . The two pages are necessary in the case that the two bits are stored in one memory cell and each bit is switched by the address first page second page and third page in the case that three bits are stored in one memory cell. The bit is switched by the address first page second page third page and fourth page in the case that four bits are stored in one memory cell.

An operation to collectively perform the read operation or write operation to all the memory cells units of pages arrayed in the row direction will be described below by taking four level data as an example. At this point the threshold voltages of the memory cell are set according to the data having the four values.

As illustrated in the data for one page is supplied from the outside and stored in the latch circuit XDL of each data storage circuit. Then the data is written in selected one word line. The plurality of word lines in one block are sequentially selected from the word line WL on the source side and the data is written in the memory cell connected to the selected word line.

As illustrated in the data of the memory cell in the erase state has the threshold voltage 0 and becomes the threshold voltage 1 by writing the data 0 in the first page. In the sign LMV designates a verify voltage of the data 1 .

When the data is written in the adjacent memory cell the threshold voltage of the memory cell is slightly raised relative to the verify voltage LMV by the coupling capacitance between the floating gates as illustrated in . The verify voltage LMV is set slightly higher than a read voltage LMR because a data retention margin is provided.

Then the data 0 or 1 is written in the second page whereby the data of the memory cell becomes 0 2 3 and 4 as illustrated in . That is the data is left in 0 in the case that the first page data is 1 while the second page data is 1 and the data becomes 2 in the case that the first page data is 1 while the second page data is 0 . The data becomes 3 in the case that the first page data is 0 while the second page data is 1 and the data becomes 4 in the case that the first page data is 0 while the second page data is 0 .

During the write operation verify voltages AV BV and CV are set as illustrated in . Because the data retention margin is provided the verify voltages AV BV and CV are slightly higher than read voltages AR BR and CR.

As illustrated in when the data is written in the adjacent memory cell the threshold voltages of the memory cell are raised higher than the verify voltages AV BV and CV due to the coupling capacitance between the floating gates. In this case the data can securely be read at read voltages ARR BRR and CRR that are slightly higher than the read voltages AR BR and CR.

Therefore each word line includes a second flag cell to determine whether the second page data is written and a boosting cell PC is disposed such that the threshold of the second flag cell fluctuates when the second page data of the adjacent memory cell is written.

As described above the memory cell array includes a plurality of flag cells. illustrate part of the memory cell array .

Referring to the memory cell array includes a data region in which the data is stored a first flag region that determines whether the second page data is written in the memory cell of the data region and second flag regions and that determine whether the data is written in the adjacent memory cell. The second flag regions and have the identical configuration except that a threshold voltage set to a second flag cell FCB differs from that of a second flag cell FCA.

In the word lines WL WL . . . and WL are disposed from the source side of the memory cell toward the drain side and the write operation is sequentially performed from the memory cell on the source side.

In the first flag region in a first flag cell FC is disposed in each of the word lines WL WL . . . and WL. The write operation is performed to the first flag cell FC at a given threshold voltage at the same time as the second page data is stored in the memory cell of the data region .

Hereinafter the threshold voltage of the first flag cell is high or low includes the case that whether the threshold voltage is high or low is determined based on a result of the majority vote of data. As illustrated in two kinds of first flag cells FCA and FCB connected to the identical word line WL can be provided in the first flag cell FC. The second page data is written in the first flag cell FCA at the threshold level of the data 2 and the second page data is written in the first flag cell FCB at the threshold level of the data 3 . At this point each of the first flag cells FCA and FCB may include a plurality of flag cells. In this case whether the second page data is stored can be determined by the majority vote of data written in the plurality of first flag cells FCA and the plurality of first flag cells FCB.

Whether the second page data is stored can be determined when the numbers of predetermined data for example the first flag cell FCA is the data 2 and the first flag cell FCB is the data 3 stored in the plurality of first flag cells FCA and the plurality of first flag cells FCB are greater than or equal to specified numbers.

In the word line WLn the second page data is written in all the plurality of first flag cells FCA and all the plurality of first flag cells FCB. On the other hand during the read operation it is also possible that data stored in the first flag cell FCA and the flag cells at both ends of the plurality of first flag cells FCB are not used in the majority vote of data. As a result read error caused by the influence of the memory cell adjacent in a word line direction can be prevented. The write operation is not performed to the first flag cell FCA and the flag cells at both ends of the plurality of first flag cells FCB but the first flag cell FCA and the flag cells can be dealt with as a dummy cell.

Sometimes the first flag cells FCA and FCB are simply referred to as a first flag cell FC unless otherwise noted. In the case that the two kinds of the first flag cells first flag cells FCA and FCB are not provided for example the first flag cell becomes only the first flag cell FCB in .

In the second flag region the second flag cell FCB is disposed in each word line in order to determine whether the data is written in the memory cell of for example a word line WLn 1. The second flag cell FCB is disposed so as to deviates in the bit line direction in each word line WL. In other words the second flag cell FCB disposed in a word line WLn is not adjacent to the second flag cells FCB disposed in word lines WLn 1 and WLn 1 in the bit line direction. In the first embodiment the case that three second flag cells FCB are connected to each word line WL will be described by way of example. Whether the data is written in the adjacent memory cell is determined by determining the threshold voltages of the three second flag cells FCB. Specifically whether each of the threshold voltages of the three second flag cells FCB is greater than or equal to a given voltage is determined. Then the control circuit determines whether the threshold voltage of the second flag cell FCB is greater than or equal to the given voltage through the read operation. As a result for example the control circuit determines whether two as a specific value or more second flag cells FCB exceeds a given threshold voltage thereby determining whether the data is written in the adjacent memory cell.

In the second flag region the boosting cell PC that raises the threshold voltage of the second flag cell FCB using the coupling capacitance between the floating gates is disposed in each word line while being adjacent onto the drain side of the second flag cell FCB. The boosting cell PC is also disposed obliquely adjacent onto the drain side of the second flag cell FCB. In the first embodiment for example five boosting cells PC are disposed with respect to the three second flag cells FCB and two of the five boosting cells PC are disposed in both sides of the bit line direction of the second flag cell FCB.

The memory cells are two dimensionally arrayed in order to reduce the memory cell. Therefore preferably the second flag cells FCB and the boosting cells PC are also two dimensionally arrayed. That is the memory cell adjacent to the bit line direction of the three second flag cells FCB is dealt with as the dummy cell.

The threshold voltage of the second flag cell FCB is raised by writing the data in the memory cell connected to the word line adjacent on the drain side. That is the threshold voltage of the second flag cell FCB fluctuates by the raises of the threshold voltages of the two obliquely adjacent second flag cells FCB in the three second flag cells FCB. The five boosting cells PC can be disposed with respect to the second flag cells FCB in order to more largely raise the threshold voltages of the second flag cells FCB.

Specifically for example the five boosting cells PC are disposed in the word line WL with respect to the three second flag cells FCB disposed in the word line WL. The five boosting cells PC are disposed in the word line WL with respect to the three second flag cells FCB disposed in the word line WL. The five boosting cells PC are disposed in the word line WL with respect to the three second flag cells FCB disposed in the word line WL. Thus the configuration of the three second flag cells FCB and the five boosting cells PC sometimes referred to as a flag boosting cell group are repeatedly disposed. The number of flag cells FCB is not limited to three but may be four or more. The number of boosting cells PC may be identical to that of flag cells FCB or be greater than that of flag cells FCB by at least two.

In the second flag region the memory cell except the second flag cell FCB and the boosting cell PC are dummy cells DMC. The dummy cells DMC are the memory cells that do not contribute to the data storage. The dummy cell DMC is not necessary in the case that the influence of the coupling capacitance between the memory cells adjacent to each other is negligible. In this case as illustrated in the second flag cells FCB and FCA can be disposed close to each other in the word line direction. According to the configuration in the second flag cell FCB or FCA connected to the adjacent word line does not include the dummy cell DMC in the word line direction so that the downsizing of semiconductor storage device can be achieved.

The flag boosting cell group deviates in the word line direction. That is the flag boosting cell group that straddles the word lines WL and WL deviates from the flag boosting cell group that straddles the word lines WL and WL in the bit line direction with the dummy cells DMC interposed therebetween. Similarly the flag boosting cell group that straddles the word lines WL and WL deviates from the flag boosting cell group that straddles the word lines WL and WL in the bit line direction with the dummy cells DMC interposed therebetween. On the other hand each three of the flag boosting cell groups are periodically disposed in the bit line direction in order to reduce an area of the second flag region in the word line direction.

For example the write operation in not performed to the first flag cells FCA and FCB when the first page data is written in the memory cell MC of the word line WLn in the data region but the write operation is performed to the first flag cells FCA and FCB when the second page data is written in the memory cell MC. That is in writing the second page data the first flag cells FCA and FCB are raised from the threshold voltages in the erase state in to verify voltages AV and BV or more in respectively.

In the case that two kinds of first flag cells first flag cells FCA and FCB are not provided but one kind of flag cell is provided similarly to the first flag cell FCB in writing the second page data the first flag cell is raised from the threshold voltages in the erase state in to the verify voltage BV or more in .

For example the write operation in not performed to the boosting cell PC when the first page data is written in the memory cell MC of the word line WLn but the write operation is performed to the boosting cell PC when the second page data is written in the memory cell MC. That is similarly to the first flag cell FC the boosting cell PC is raised from the threshold voltages in the erase state in to the verify voltage CV in when the second page data is written in the memory cell MC that is connected to the word line to which the boosting cell PC is connected.

The write operation is performed to the second flag cell FCA at the erase level or the threshold voltage slightly higher than the erase level as illustrated in by a broken line before the write operation is performed to the boosting cell PC that is of the adjacent memory cell. At this point for example in order to slightly raise the threshold voltage of the second flag cell FCA higher than the erase level the threshold voltage of the second flag cell FCA may previously be raised after the erase operation or at the same time as the first page data is written in the memory cell MC of the data region .

Then for example in the case that the write operation is performed to the boosting cell PC at the verify voltage CV or more the threshold voltage of the second flag cell FCA adjacent to the boosting cell PC on the source side including the case that the second flag cell FCA is obliquely adjacent to the boosting cell PC is raised to a range including the verify voltage AV by the coupling capacitance with the boosting cell PC as illustrated in . Preferably the write operation is performed to the boosting cell PC at the verify voltage CV or more in order to largely raise the threshold voltage of the second flag cell FCA.

As illustrated in for example the write operation is performed to the second flag cell FCB in a range of the verify voltage AV or more before the write operation is performed to the boosting cell PC that is of the adjacent memory cell. For example the write operation is performed at the same time as the first page data is written in the memory cell MC of the data region .

Then for example in the case that the write operation is performed to the boosting cell PC at the verify voltage CV or more the threshold voltage of the second flag cell FCB adjacent to the boosting cell PC on the source side including the case that the second flag cell FCB is obliquely adjacent to the boosting cell PC is raised to a range including the verify voltage BV by the coupling capacitance with the boosting cell PC as illustrated in . Preferably the write operation is performed to the boosting cell PC at the verify voltage CV or more in order to largely raise the threshold voltage of the second flag cell FCB.

The second flag cell FCA is used to determine whether the data is written in the adjacent memory cell when the second page data is read from the memory cell MC as will be described later.

The second flag cell FCB is used to determine whether the data is written in the adjacent memory cell when the first page data is read from the memory cell MC as will be described later.

In the case that the first page data is read from the memory cell MC of the data region when the second page data is not written while the write operation is not performed to the adjacent memory cell the read voltage LMR in is used as the read voltage of the memory cell MC in the data region . On the other hand when the second page data is written while the write operation is performed to the adjacent memory cell as illustrated in the threshold voltage of the memory cell MC in the data region is slightly shifted higher than the threshold voltage in . Therefore the control circuit reads the data of the second flag cell FCB to determine whether the write operation is performed to the adjacent memory cell and the control circuit determines whether the second page data is written thereby fixing the read voltage.

In the first page read operation for example the read voltage BRR in is applied to the word line WLn and the data are read from the memory cell MC sometimes referred to as a selected memory cell MC the first flag cell FC FCB and the second flag cell FCB S which are connected to the word line WLn. Specifically the read data are retained in the data storage circuit .

Then whether the write operation is performed to the second page of the adjacent memory cell is determined using the data of the second flag cell FCB S . The determination is made as follows. There are three second flag cells FCB. The determination that the write operation is performed to the second page of the adjacent memory cell when two as a specific value or more second flag cells FCB have the read voltage BRR or more and the determination that the write operation is not performed to the second page of the adjacent memory cell when less than two second flag cell FCB has the read voltage BRR or more.

When the determination that the write operation is not performed to the second page of the adjacent memory cell whether the second page data is written is determined using the threshold voltage of the first flag cell FC FCB S . The read operation of the first flag cell FC FCB is performed at the same time as the read operation of the second flag cell FCB. As a result it is possible to finish the read operation in short time.

When the threshold voltage of the first flag cell FC FCB is greater than or equal to the read voltage BRR and the second page data is written the read voltage BR is applied to the word line WLn and the first page data is read from the memory cell MC S . The read first page data is output to the outside S .

On the other hand when the data of the first flag cell FC FCB is less than the read voltage BRR and the second page data is not written in Step S the read voltage LMR in for example is applied to the word line WLn and the first page data is read from the memory cell MC S . The read first page data is output to the outside S .

In Step S when the determination that the second page data has been written in the adjacent memory cell whether the second page data is written is determined using the threshold voltage of the first flag cell FC S .

As a result of the determination when the threshold voltage of the first flag cell FC is greater than or equal to the read voltage BRR and the second page data is written the first page data that is read from the memory cell MC in the data region at the read voltage BRR in for example is directly output to the outside S .

When the data of the first flag cell FC is less than the read voltage BRR and the second page data is not written the read voltage LMR is applied to read the first page data from the memory cell MC S . The read first page data is output to the outside S .

When the write operation is not performed to the second page of the memory cell connected to the word line WLn after the write operation is performed to the second page of the memory cell connected to the word line WLn 1 the read voltage is set to LMR and the data of the memory cell connected to the word line WLn is read in Step S. At this point because the write operation is performed to the second page of the memory cell connected to the word line WLn the read level is slightly changed from the read voltage LMR a voltage higher than the read voltage LMR and the data of the memory cell connected to the word line WLn may be read.

According to the first page read operation of the first embodiment the second flag cell FCB is provided to determine whether the write operation is performed to the second page of the memory cell adjacent to each word line WLn and the boosting cell PC is provided adjacent to the second flag cell FCB in each word line WLn 1 located on the drain side of the second flag cell FCB. When the second page data is written in the memory cell MC connected to the word line WLn 1 the data is written in the boosting cell PC and the threshold voltage of the second flag cell FCB is shifted upward by the coupling capacitance between the boosting cell PC and the floating gate of the second flag cell FCB. Therefore in reading the data whether the second page data is written in the adjacent memory cell can be determined by determining the threshold voltage of the second flag cell FCB and the read voltage of the memory cell MC can properly be set based on the determination result. Accordingly the influence of the coupling capacitance with the adjacent memory cell can be suppressed to set the first page read voltage of the memory cell MC to an optimum value and the first page data of the memory cell MC can correctly be read.

Additionally the data of the second flag cell FCB is read at the same time as the data of the first flag cell FC FCB and the memory cell MC and the read voltage of the memory cell MC is fixed according to the read result. That is it is not necessary that the data of the memory cell MC adjacent on the drain side of the selected memory cell MC be read in order to set the read voltage to the optimum value. As a result the high speed read operation can be performed in the first embodiment.

The threshold voltage of the first flag cell FC is determined when the data of the second flag cell FCB is greater than or equal to the read voltage BRR and the data is written in the adjacent memory cell in Step S of . However as described above the first flag cell FC FCB is written at the same time as the write operation is performed to the second page of the selected memory cell MC. For example the write sequence of the memory cells MC in is considered. The operation to write the data in the second page of the memory cells MC connected to the word line WLn is ended when the write operation is performed to the second page of the memory cells MC connected to the word line WLn 1. Therefore when the determination that the data is written in the adjacent memory cell in Step S it is not necessary to determine whether the second page data is written in the memory cell MC.

In the first modification in the determination whether the data is written in the first flag cell FC FCB is omitted. That is when the determination that the data of the second flag cell FCB is greater than or equal to the read voltage BRR in Step S the threshold voltage of the first flag cell FC FCB is not determined but the first page data that is read from the memory cell MC at the read voltage BRR in Step S is immediately output to the outside S .

The same advantageous effect as the first embodiment can be obtained by the first modification. Additionally according to the first modification when the data of the second flag cell FCB is greater than or equal to the read voltage BRR and the second page data is written in the adjacent memory cell the data that is read from the memory cell MC at the read voltage BRR is immediately output without determining the threshold voltage of the first flag cell FC FCB . Accordingly the circuit can be simplified.

In the first embodiment and the first modification the read voltage of the word line WLn is set to the BRR in on the assumption that the second page data is written in the memory cell MC and that the second page data is written in the adjacent memory cell. On the other hand in the second modification the read voltage is set to the BR in on the assumption that the second page data is not written in the adjacent memory cell.

The read voltage BR is applied to the word line WLn and the data of the memory cell MC the first flag cell FC FCB and the second flag cell FCB which are connected to the word line WLn are read on the data storage circuit S .

Then whether the threshold voltage of the second flag cell FCB is greater than or equal to the read voltage BR is determined S . When the threshold voltage of the second flag cell FCB is less than the read voltage BR and the write operation is not performed to the second page of the adjacent memory cell whether the threshold voltage of the first flag cell FC FCB is greater than or equal to the read voltage BR is determined S .

When the threshold voltage of the first flag cell FC FCB is greater than or equal to the read voltage BR and the second page data is written in the memory cell the first page data that is read from the memory cell MC at the read voltage BR is immediately output to the outside S .

On the other hand the determination result of Step when the threshold voltage of the first flag cell FC FCB is less than the read voltage BR and the second page data is not written in the memory cell the read voltage LMR is applied to the word line WLn to read the data of the memory cell MC S . The read first page data is output to the outside S .

In Step S when the threshold voltage of the second flag cell FCB is greater than or equal to the read voltage BR and the second page data is written in the adjacent memory cell whether the threshold voltage of the first flag cell FC FCB is greater than or equal to the read voltage BR is determined S .

When the threshold voltage of the first flag cell FC FCB is less than the read voltage BR in Step S namely when the determination that the second page data is not written in the memory cell MC while the second page data is written in the adjacent memory cell the read voltage LMR is applied to the word line WLn to read the data from the memory cell MC S . The read first page data is output to the outside S .

When the threshold voltage of the first flag cell FC FCB is greater than or equal to the read voltage BR in Step S namely when the second page data is written in the memory cell MC while the second page data is written in the adjacent memory cell the read voltage BRR is applied to the word line WLn to read the data from the memory cell MC S . The read first page data is output to the outside S .

In the second modification the first page data can correctly be read like the first embodiment. Additionally the read operation is performed to the second flag cell FCB at the read voltage BR . Because the threshold voltage of the second flag cell FCB is raised by the coupling capacitance of the adjacent memory cell possibly the threshold voltage of the second flag cell FCB is insufficiently higher than the read voltage BRR . Therefore the read margin can largely be taken compared with the case that the read operation is performed at the read voltage BRR . Accordingly the threshold voltage of the second flag cell FCB can correctly be read and the read voltage of the memory cell MC can securely be set.

In Step S of when the data of the second flag cell FCB is greater than or equal to the read voltage BR and the second page data is written in the adjacent memory cell the threshold voltage of the first flag cell FC FCB is determined.

In the third modification in the determination of whether the data is written in the first flag cell FC FCB is omitted. For example the write sequence of the memory cells MC in is considered. The operation to write the data in the second page of the memory cells MC connected to the word line WLn is ended when the write operation is performed to the second page of the memory cells MC connected to the word line WLn 1. Therefore when the determination that the second page data is written in the adjacent memory cell in Step S the threshold voltage of the first flag cell FC FCB is not determined the read voltage BRR is applied to the word line WLn to read the first page data from the memory cell MC S . The read first page data is output to the outside S .

The same advantageous effect as the second modification can be obtained by the third modification. Additionally according to the third modification when the data of the second flag cell FCB is greater than or equal to the read voltage BR and the data is written in the second page of the adjacent memory cell the first page data is read from the memory cell MC at the read voltage BRR without determining the threshold voltage of the first flag cell FC FCB . Accordingly the circuit can be simplified compared with the second modification.

As illustrated in in addition to the data written at the verify voltage BV the data written at the verify voltages AV and CV exist in the second page. Additionally the threshold voltage is shifted upward as illustrated in when the second page data is written in the adjacent memory cell.

Therefore in the second page read operation whether the second page data is written in the adjacent memory cell is determined using for example the second flag cell FCA. That is first the read voltage ARR is applied to the word line WLn and the data of the memory cell MC the first flag cell FC FCA and the second flag cell FCA which are connected to the word line WLn are read on the data storage circuit S .

Then whether the second page data is written in the adjacent memory cell is determined using the data of the second flag cell FCA. The determination operation is identical to the determination operation in which the second flag cell FCB is used.

When the threshold voltage of the second flag cell FCA is less than the read voltage ARR and the second page data is not written in the adjacent memory cell whether the threshold voltage of the first flag cell FC FCA is greater than or equal to the read voltage ARR is determined S .

When the threshold voltage of the first flag cell FC FCA is greater than or equal to the read voltage ARR namely when the second page data is written in the memory cell MC while the second page data is not written in the adjacent memory cell the threshold voltage of the memory cell MC is not shifted upward after the second page write operation. Therefore the read voltage AR is applied to the word line WLn to read the second data of the memory cell MC S and the read voltage CR is applied to the word line WLn to read the second data of the memory cell MC S . The thus read second page data is output to the outside S .

When the threshold voltage of the first flag cell FC FCA is less than the read voltage ARR in Step S because the second page data is not written in the memory cell MC the output data is set to 1 S and output to the outside S .

When the threshold voltage of the second flag cell FCA is greater than or equal to the read voltage ARR and the second page data is written in the adjacent memory cell in Step S whether the threshold voltage of the first flag cell FC FCA is greater than or equal to the read voltage ARR is determined S .

When the threshold voltage of the first flag cell FC FCA is less than the read voltage ARR and the second page data is not written in the memory cell MC the output data is set to 1 S and output to the outside S .

In the second page read operation the read voltage of the word line WLn is reread as AR in Step S. Alternatively Step S is omitted and the read result with the read voltage ARR of the word line WLn in Step S may be used instead. In this case when the data is written in the second page of the adjacent memory cell the read voltage can be set as follows. The read voltage ARR is used as the read voltage of the data 2 and the read voltage CR or CRR can be used as the read voltage of the data 4 according to the first flag cell FC FCA connected to the word line WLn 1.

As a result of the determination of Step S when the threshold voltage of the first flag cell FC FCA is greater than or equal to the read voltage ARR and the second page data is written in the memory cell MC because the second page data is shifted upward the read voltage CRR is applied to the word line WLn to read the second page data from the memory cell MC S . The read second page data is output to the outside S .

According to the second page read operation the second flag cell FCA is provided in order to determine whether the data is written in the memory cell adjacent to the word line WLn the boosting cell PC is provided adjacent to the second flag cell FCA in each word line WLn 1 located on the drain side of the second flag cell FCA the data is written in the boosting cell PC when the second page data is written in the memory cell MC connected to the word line WLn 1 and the threshold voltage of the second flag cell FCA is shifted upward by the coupling capacitance between the boosting cell PC and the floating gate of the second flag cell FCA. Therefore in reading the data whether the second page data is written in the adjacent memory cell can be determined by determining the threshold voltage of the second flag cell FCA and the read voltage of the memory cell MC can be set based on the determination result. Accordingly the influence of the coupling capacitance with the adjacent memory cell can be suppressed to set the second page read voltage of the memory cell MC to the optimum value and the second page data of the memory cell MC can correctly be read.

Additionally the data of the second flag cell FCA is read at the same time as the data of the selected memory cell MC and the read voltage of the memory cell MC is fixed according to the read result. That is it is not necessary that data of the memory cell MC adjacent on the drain side of the selected memory cell MC be read in order to set the read voltage to the optimum value. As a result high speed read operation can be performed in the first embodiment.

In the first embodiment in when the data of the second flag cell FCA is greater than or equal to the read voltage ARR and the second page data is written in the adjacent memory cell in Step S the threshold voltage of the first flag cell FC FCA is determined. However as described above the threshold voltage of the second flag cell FCA is raised by the second page write operation of the memory cell MC adjacent on the drain side of the selected memory cell MC. Therefore when the determination that the data is written in the memory cell MC adjacent on the drain side in Step S it is not necessary to determine whether the second page data is written in the selected memory cell MC. For example the write sequence of the memory cells MC in is considered. The operation to write the data in the second page of the memory cells MC connected to the word line WLn is ended when the write operation is performed to the second page of the memory cells MC connected to the word line WLn 1.

Therefore the determination whether the data is written in the first flag cell FC FCA is omitted in the first modification in . When the determination that the data of the second flag cell FCA is greater than or equal to the read voltage ARR in Step S the read voltage CRR is applied to the word line WLn to read the second page data from the read memory cell MC S . The read second page data is output to the outside S .

In the second page read operation the read voltage of the word line WLn is reread as ARR in Step S. Alternatively Step S is omitted and the read result with the read voltage AR of the word line WLn in Step S may be used instead. In this case when the data is written in the second page of the adjacent memory cell the read voltage can be set as follows. The read voltage ARR is used as the read voltage of the data 2 and the read voltage CR or CRR can be used as the read voltage of the data 4 according to the first flag cell FC FCA connected to the word line WLn 1.

The same advantageous effect as the second page read operation of the first embodiment can be obtained by the first modification. Additionally according to the first modification when the determination that the second page data is written in the adjacent memory cell the operation to determine the threshold voltage of the first flag cell FC FCA is omitted and the data read from the memory cell MC at the read voltage CRR is immediately output. Accordingly the circuit can be simplified compared with the flowchart in .

In the second page read operations in on the assumption that the second page data is written in the adjacent memory cell the read voltage ARR is applied to the word line WLn to read the data from the memory cell MC the first flag cell FC FCA and the second flag cell FCA.

On the other hand in the second modification it is assumed that the second page data is not written in the adjacent memory cell. Therefore the read voltage AR is applied to the word line WLn to read the data from the memory cell MC the first flag cell FC FCA and the second flag cell FCA S .

Whether the threshold voltage read from the second flag cell FCA is greater than or equal to the read voltage AR is determined S . When the threshold voltage read from the second flag cell FCA is less than the read voltage AR and the second page data is not written in the adjacent memory cell whether the threshold voltage read from the first flag cell FC FCA is greater than or equal to the read voltage AR is determined S .

When the threshold voltage read from the first flag cell FC FCA is greater than or equal to the read voltage AR and the second page data is written in the memory cell MC the read voltage CR is applied to the word line WLn. Then the second page data of the selected memory cell MC read at the read voltage AR in Step and the second page data of the selected memory cell MC read at the read voltage CR in Step are output to the outside S .

When the threshold voltage read from the first flag cell FC FCA is less than the read voltage AR and the second page data is not written in the memory cell MC in Step S the output data is set to 1 S and output to the outside S .

On the other hand when the threshold voltage read from the second flag cell FCA is greater than or equal to the read voltage AR and the second page data is written in the adjacent memory cell in Step S whether the threshold voltage read from the first flag cell FC FCA is greater than or equal to the read voltage AR is determined S .

When the threshold voltage read from the first flag cell FC FCA is less than the read voltage AR and the second page data is not written in the memory cell MC the output data is set to 1 S and output to the outside S .

When the threshold voltage read from the first flag cell FC FCA is greater than or equal to the read voltage AR and the second page data is written in the memory cell MC in Step S because the data is also written in the second page of the memory cell MC adjacent on the drain side the threshold voltage of the memory cell MC is shifted upward as illustrated in . Therefore the read voltage ARR is applied to the word line WLn to read the data from the memory cell MC S and then the read voltage ARR is applied to the word line WLn to read the data from the memory cell MC S . The read second page data are output to the outside S .

In the second page read operation the read voltage of the word line WLn is reread as ARR in Step S. Alternatively Step S is omitted and the read result with the read voltage AR of the word line WLn in Step S may be used instead. In this case when the second page data is written in the adjacent memory cell the read voltage can be set as follows. The read voltage AR is used as the read voltage of the data 2 and the read voltage CR or CRR can be used as the read voltage of the data 4 according to the first flag cell FC FCA connected to the word line WLn 1.

According to the second modification the threshold voltage of the second flag cell FCA is determined using the read voltage AR the data is read from the memory cell MC at the read voltage CR when the second page data is not written in the adjacent memory cell while the second page data is written in the memory cell MC and the data is read from the memory cell MC at the read voltages ARR and CRR when the second page data is written in the adjacent memory cell while the second page data is written in the memory cell MC. Therefore for the same reason as the first page read operation of the second modification the data can securely be read from the memory cell MC.

In the second modification in when the threshold voltage read from the second flag cell FCA is greater than or equal to the read voltage AR and the second page data is written in the adjacent memory cell whether the threshold voltage read from the first flag cell FC FCA is greater than or equal to the read voltage AR is determined S and S .

However the threshold voltage of the second flag cell FCA is shifted upward by the coupling capacitance with the boosting cell PC when the second page data is written in the memory cell MC adjacent on the drain side. When the second page data is written in the adjacent memory cell the second page data is already written in the memory cell MC selected at the same time as the second flag cell FCA it is not necessary that to determine the threshold voltage of the first flag cell FC FCA . For example the write sequence of the memory cells MC in is considered. The operation to write the data in the second page of the memory cells MC connected to the word line WLn is ended when the write operation is performed to the second page of the memory cells MC connected to the word line WLn 1.

Therefore in the third modification in when the second page data is written in the adjacent memory cell the determination of the threshold voltage of the first flag cell FC FCA is omitted and subsequent to Step S the data is read from the memory cell MC at the read voltages ARR and CRR and output S S and S .

In the second page read operation the read voltage of the word line WLn is reread as ARR in Step S. Alternatively Step S is omitted and the read result with the read voltage AR of the word line WLn in Step S may be used instead. In this case when the data is written in the second page of the adjacent memory cell the read voltage can be set as follows. The read voltage AR is used as the read voltage of the data 2 and the read voltage CR or CRR can be used as the read voltage of the data 4 according to the first flag cell FC FCA connected to the word line WLn 1.

According to the third modification when the determination that the second page data is written in the adjacent memory cell the determination of the threshold voltage of the first flag cell FC FCA is omitted and the data is read from the memory cell MC at the read voltages ARR and CRR and output. Therefore the second page data read speed can be enhanced compared with the second modification.

In the first embodiment the two kinds of the second flag cells FCA and FCB are prepared and the threshold voltages of the second flag cells FCA and FCB are raised by the boosting cell PC. However in the case that the plurality of kinds of the second flag cells are not required only one kind of the second flag cell may be disposed while one of the plurality of kinds of the second flag cells is omitted. For example in the case that the threshold voltage fluctuates largely among the floating gates the second flag cell FCA is omitted and only the second flag cell FCB is disposed. The boosting cell PC can raise the threshold voltage of the second flag cell FCB from the level in to the level in . As a result an area occupied by the second flag cell can be reduced.

On the other hand in the second embodiment whether the second page data is written in the adjacent memory cell is determined with no use of the second flag cells FCA and FCB by determining the threshold voltage of the first flag cell FC that is connected to the word line WLn 1 adjacent in the drain direction of the memory cell connected to the read target word line WLn.

That is first for example the read voltage AR is applied to the word line WLn 1 adjacent in the drain direction with respect to the read target word line WLn and the data is read from the first flag cell FC connected to the word line WLn 1 S and .

Then whether the threshold voltage of the first flag cell FC although either the first flag cell FCA or the first flag cell FCB may be used the wider read margin is ensured in reading the first flag cell FCB connected to the word line WLn 1 is greater than or equal to the read voltage AR is determined S .

Only the first flag cell FC may be read in the read operation of the word line WLn 1. That is it is not necessary to read the data from the read target memory cell MC. Therefore power consumption can be suppressed such that a circuit associated with the read operation of the read target memory cell MC is not operated for example the data storage circuit connected to the read target memory cell MC is not operated .

As a result when the threshold voltage of the first flag cell FC connected to the word line WLn 1 is less than the read voltage AR and the second page data is not written in the adjacent memory cell the read voltage BR is applied to the read target word line WLn to read the data of the memory cell MC and the first flag cell FC FCB S and .

Then whether the threshold voltage of the first flag cell FC FCB is greater than or equal to the read voltage BR is determined S . When the threshold voltage of the first flag cell FC FCB is greater than or equal to the read voltage BR because the second page data is written the data read from the memory cell MC at the read voltage BR is output to the outside S .

When the threshold voltage of the first flag cell FC FCB is less than the read voltage BR in Step S the second page data is not written and the second page data of the adjacent memory cell is not written. Therefore the read voltage LM in is applied to the word line WLn to read the first page data from the memory cell MC S . The read data is output to the outside S .

On the other hand when the threshold voltage of the first flag cell FC FCB connected to the word line WLn 1 is greater than or equal to the read voltage AR and the second page data is written in the adjacent memory cell in Step S the read voltage BRR higher than the read voltage BR is applied to the read target word line WLn to read the data of the first flag cell FC FCB and the memory cell MC S .

Then whether the threshold voltage of the first flag cell FC FCB is greater than or equal to the read voltage BRR is determined S . When the threshold voltage of the first flag cell FC FCB is greater than or equal to the read voltage BRR the second page data is written in the selected memory cell MC and the second page data is also written in the adjacent memory cell. Therefore the first page data read from the memory cell MC at the read voltage BRR is output to the outside S .

When the threshold voltage of the first flag cell FC is less than the read voltage BRR and the second page of the adjacent memory cell is written while the second page of the memory cell MC is not written the first page data is read from the memory cell MC connected to the word line WLn at the read voltage LM slightly lower than the read voltage LMR or LMR S . The read first page data is output to the outside S .

According to the first page read operation of the second embodiment the threshold voltage of the first flag cell FC that is connected to the word line WLn 1 adjacent in the drain direction with respect to the read target word line WLn is determined and the read voltage of the read target word line WLn is changed based on whether the second page data is written in the memory cell adjacent to the read target memory cell MC. Therefore the data can be correctly read from the first flag cell FC connected to the read target word line WLn so that the read voltage of the memory cell MC can properly be set. Accordingly the first page data can securely be read from the memory cell MC. Additionally it is not necessary to provide the second flag cells FCA and FCB so that the area of the memory cell array can be reduced.

As illustrated in a ready busy signal becomes the L level when the data are read from the first flag cell FC connected to the word line WLn 1 and the selected memory cell MC connected to the word line WLn. The ready busy signal becomes the H level when the first page data is output to the outside S .

In the first page read operation in when the determination that the second page data is written in the adjacent memory cell based on the data of the first flag cell FC that is connected to the word line WLn 1 adjacent on the drain side with respect to the read target word line WLn the read voltage BRR is applied to the read target word line WLn the data is read from the first flag cell FC to determine whether the second page data is written in the memory cell MC S and S .

However in the case that the second page data is written in the memory cell MC adjacent on the drain side sometimes the second page data is already written in the memory cell MC connected to the read target word line WLn. For example the write sequence of the memory cells MC in is considered. The operation to write the data in the second page of the memory cells MC connected to the word line WLn is ended when the write operation is performed to the second page of the memory cells MC connected to the word line WLn 1. Therefore it is not necessary to determine the data of the first flag cell FC connected to the word line WLn.

In the modification the determination whether the threshold voltage of the first flag cell FC connected to the word line WLn is greater than or equal to the read voltage BRR is omitted as illustrated in .

That is when the determination that the second page data is written in the adjacent memory cell in Step S the read voltage BRR is applied to the word line WLn to read the first page data from the memory cell MC in Step S S . The read first page data is output to the outside S .

According to the modification the determination of the threshold voltage of the first flag cell FC connected to the read target word line WLn is omitted in the case that the determination that the second page data is written in the adjacent memory cell by determining the threshold voltage of the first flag cell FC that is connected to the word line WLn 1 adjacent to the read target word line WLn. Therefore it is possible to finish the first page read operation in short time.

In the second page read operation like the first page read operation whether the second page data is written in the adjacent memory cell is determined by determining the threshold voltage of the first flag cell FC that is connected to the word line WLn 1 adjacent on the drain side with respect to the read target word line WLn.

That is first for example the read voltage AR is applied to the word line WLn 1 which is adjacent on the drain side with respect to the read target word line WLn and the data is read from the first flag cell FC although either the first flag cell FCA or the first flag cell FCB may be used the wider read margin is ensured in reading the first flag cell FCB connected to the word line WLn 1 S and . Only the data may be read from the first flag cell FC in the read operation of the word line WLn 1. That is it is not necessary to read the data from the read target memory cell MC. Therefore the power consumption can be suppressed such that the circuit associated with the read operation of the read target memory cell MC is not operated for example the data storage circuit connected to the read target memory cell MC is not operated .

Then whether the threshold voltage of the first flag cell FC connected to the word line WLn 1 is greater than or equal to the read voltage AR is determined S .

When the threshold voltage of the first flag cell FC is less than the read voltage AR and the data is not written in the second page of the memory cell MC adjacent on the drain side the read voltage AR is applied to the read target word line WLn to read the data from the memory cell MC and the first flag cell FC FCA which are connected to the word line WLn S and .

Then whether the threshold voltage of the first flag cell FC FCA is greater than or equal to the read voltage AR is determined S .

When the threshold voltage of the first flag cell FC FCA is greater than or equal to the read voltage AR namely when the second page data is written in the memory cell MC while the second page data is not written in the adjacent memory cell the read voltage CR is applied to the word line WLn to read the second page data from the memory cell MC S and .

The data read at the read voltage CR and the second page data read from the selected memory cell MC at the read voltage AR in Step S are output to the outside S .

In Step S when the threshold voltage of the first flag cell FC FCA is less than the read voltage AR and the second page data is not written in the memory cell MC the output data is set to 1 S and output to the outside S .

On the other hand when the determination that the threshold voltage of the first flag cell FC FCA is greater than or equal to the read voltage AR in Step S namely when the determination that the second page data is written in the adjacent memory cell the read voltage ARR is applied to the read target word line WLn to read the data from the first flag cell FC FCA connected to the word line WLn S and .

Then whether the threshold voltage of the first flag cell FC FCA is greater than or equal to the read voltage ARR is determined S .

When the threshold voltage of the first flag cell FC FCA is less than the read voltage ARR and the second page data is not written in the memory cell MC the output data is set to 1 S and output to the outside S .

When the determination that the threshold voltage of the first flag cell FC FCA is greater than or equal to the read voltage ARR in Step S the read voltage CRR is applied to the word line WLn to read the second page data from the memory cell MC connected to the word line WLn S and the second page data is output to the outside S .

According to the second page read operation of the second embodiment the determination that the second page data is written in the memory cell MC adjacent on the drain side by determining the threshold voltage of the first flag cell FC that is connected to the word line WLn 1 adjacent to the read target word line WLn and the read voltage applied to the read target word line WLn is changed to change the read voltage of the selected memory cell MC connected to the read target word line WLn based on the determination result. Accordingly the second page data can correctly be read from the memory cell MC. Additionally it is not necessary to provide the second flag cells FCA and FCB so that the area of the memory cell array can be reduced.

As illustrated in the ready busy signal becomes the L level when the data are read from the first flag cell FC connected to the word line WLn 1 and the selected memory cell MC connected to the word line WLn. The ready busy signal becomes the H level when the first page data is output to the outside S .

In Step S of when the determination that the threshold voltage of the first flag cell FC connected to the word line WLn 1 is greater than or equal to the read voltage AR the read voltage CRR is applied to the read target word line WLn to determine the threshold voltage of the first flag cell FC connected to the word line WLn and the read voltage CRR is applied to the word line WLn to read the second page data from the memory cell MC again based on the determination result.

When the second page data is written in the memory cell that is connected to the word line WLn 1 adjacent in the drain direction with respect to the read target word line WLn sometimes the second page data is also written in the memory cell MC connected to the read target word line WLn. For example the write sequence of the memory cells MC in is considered. The operation to write the data in the second page of the memory cells MC connected to the word line WLn is ended when the write operation is performed to the second page of the memory cells MC connected to the word line WLn 1. Therefore it is not necessary to determine the threshold voltage of the first flag cell FC connected to the read target word line WLn.

In the modification in when the determination that the second page data is written in the memory cell that is connected to the word line WLn 1 adjacent in the drain direction with respect to the read target word line WLn in Step S the read voltages ARR and CRR are applied to the read target word line WLn to read the second page data from the memory cell MC S and S and the read second page data is output to the outside S .

According to the second page read operation of the modification the determination of the threshold voltage of the first flag cell FC connected to the read target word line WLn is omitted in the case that the determination that the second page data is written in the adjacent memory cell by determining the threshold voltage of the first flag cell FC that is connected to the word line WLn 1 adjacent in the drain direction with respect to the read target word line WLn. Therefore it is possible to finish the second page read operation in short time compared with the read operation in . In the second embodiment the two kinds of the first flag cells first flag cells FCA and FCB are not provided for example but only the first flag cell FCB in may be provided.

In the embodiments the read condition is changed to increase the read margin depending on the write state of the adjacent word line such that the read voltage is changed and the read operation is performed. Alternatively the read operation is performed without changing the read condition and the read condition is changed according to the write state of the adjacent word line like the embodiments when an error correction cannot be performed to the read data using an ECC when the read error is generated and the read operation may be performed again. As a result the read operation of the memory cell connected to the word line WLn 1 can be omitted when the read margin is sufficiently ensured. The read operation can be performed again while a potential at the selected word line is slightly changed.

In the first and second embodiments the read voltage of the read target word line is changed. Alternatively the read voltage of the adjacent word line may be changed during the read operation. As to the number of flag cells the majority vote is performed using the three memory cells in and the majority vote is performed using the five memory cells in . Alternatively the number of memory cells may be increased in order to improve reliability. The data may be written in the flag cell when the number of predetermined data stored in the plurality of flag cells is greater than or equal to the target number.

In the first and second embodiments the four level data is stored in the memory cell by way of example. For example the embodiments can be applied to a memory in which n level data n is natural numbers of 2 or more such as eight level data is stored.

In the embodiments the four level data is described by way of example. When k level data k is natural numbers 3 or more is stored in one memory cell kind of a second flag cell further adds to the second flag cells FCA and FCB.

While certain embodiments have been described these embodiments have been presented by way of example only and are not intended to limit the scope of the inventions. Indeed the novel embodiments described herein may be embodied in a variety of other forms furthermore various omissions substitutions and changes in the form of the embodiments described herein may be made without departing from the spirit of the inventions. The accompanying claims and their equivalents are intended to cover such forms or modifications as would fall within the scope and spirit of the inventions.

